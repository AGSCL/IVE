<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andrés González Santa Cruz">
<meta name="dcterms.date" content="2023-07-27">
<meta name="description" content="Resumen de datos para exportar a revista">

<title>Paso 4</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Paso4_files/libs/clipboard/clipboard.min.js"></script>
<script src="Paso4_files/libs/quarto-html/quarto.js"></script>
<script src="Paso4_files/libs/quarto-html/popper.min.js"></script>
<script src="Paso4_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Paso4_files/libs/quarto-html/anchor.min.js"></script>
<link href="Paso4_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Paso4_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Paso4_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Paso4_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Paso4_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<script src="Paso4_files/libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="Paso4_files/libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="Paso4_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="Paso4_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="Paso4_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="Paso4_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="Paso4_files/libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="Paso4_files/libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<link href="Paso4_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="Paso4_files/libs/datatables-binding-0.23/datatables.js"></script>
<link href="Paso4_files/libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="Paso4_files/libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="Paso4_files/libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="Paso4_files/libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="Paso4_files/libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="Paso4_files/libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="Paso4_files/libs/selectize-0.12.0/selectize.min.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Paso 4</h1>
</div>

<div>
  <div class="description">
    <p>Resumen de datos para exportar a revista</p>
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Andrés González Santa Cruz </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 27, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<style type="text/css">
script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"

</style>
</div>
<div class="cell">
<script type="text/javascript">
$(document).ready(function() {

$('body').prepend('<div class=\"zoomDiv\"><img src=\"\" class=\"zoomImg\"></div>');

// onClick function for all plots (img's)

$('img:not(.zoomImg)').click(function() {
$('.zoomImg').attr('src', $(this).attr('src')).css({width: '100%'});
$('.zoomDiv').css({opacity: '1', width: 'auto', border: '1px solid white', borderRadius: '5px', position: 'fixed', top: '50%', left: '50%', marginRight: '-50%', transform: 'translate(-50%, -50%)', boxShadow: '0px 0px 50px #888888', zIndex: '50', overflow: 'auto', maxHeight: '100%'});
});

// onClick function for zoomImg

$('img.zoomImg').click(function() {
$('.zoomDiv').css({opacity: '0', width: '0%'});
});
});
</script>
</div>
<div class="cell">
<style type="text/css">
<script src="hideOutput.js"></script>
</style>
</div>
<div class="cell">
<script type="text/javascript">
$(document).ready(function() {

\$chunks = \$('.fold');

\$chunks.each(function () { // add button to source code chunks
if ( \$(this).hasClass('s') ) {
    \$('pre.r', this).prepend("\<div class=\\"showopt\\"\>Show Source\</div\>\<br style=\\"line-height:22px;\\"/\>");
    \$('pre.r', this).children('code').attr('class', 'folded');
    } // add button to output chunks

    if ( \$(this).hasClass('o') ) {
        \$('pre:not(.r)', this).has('code').prepend("\<div class=\\"showopt\\"\>Show Output\</div\>\<br style=\\"line-height:22px;\\"/\>");
        \$('pre:not(.r)', this).children('code:not(r)').addClass('folded'); // add button to plots
        \$(this).find('img').wrap('\<pre class=\\"plot\\"\>\</pre\>');
        \$('pre.plot', this).prepend("\<div class=\\"showopt\\"\>Show Plot\</div\>\<br style=\\"line-height:22px;\\"/\>");
        \$('pre.plot', this).children('img').addClass('folded');
        }
}); // hide all chunks when document is loaded

\$('.folded').css('display', 'none') // function to toggle the visibility
\$('.showopt').click(function() {
        var label = \$(this).html();
        if (label.indexOf("Show") \>= 0) {
            \$(this).html(label.replace("Show", "Hide"));
        } else {
        \$(this).html(label.replace("Hide", "Show"));
        }

\$(this).siblings('code, img').slideToggle('fast', 'swing');
});
});
</script>
</div>

<style type="text/css">

.showopt {

background-color: #004c93; color: #FFFFFF; width: 100px; height: 20px; text-align: center; vertical-align: middle !important; float: right; font-family: sans-serif; border-radius: 8px;

}

.showopt:hover {
background-color: #dfe4f2;
color: #004c93;

}

pre.plot {
background-color: white !important;
}

.tablelines table, .tablelines td, .tablelines th {
border: 1px solid black;
}

.centrado {
text-align: center;
}

.table.center {
margin-left:auto;
margin-right:auto;
}

/* https://vivekjaiskumar.medium.com/css-is-and-not-selector-17c942ec83f :is()*/

/* Applies to outputs that are not code other than R*/

pre {
overflow-x: auto !important;
}

pre code {
word-wrap: normal !important;
white-space: pre !important;
}

/*
pre:not(.sourceCode) {
white-space: nowrap !important;
}
*/
.sourceCode { /* Important gives precedence */
font-size: 10px !important;
line-height: 50% !important;
}
body{ /* Normal */
text-align: justify;
}
.superbigimage{
overflow-y:scroll;
height:350px;
white-space: nowrap;
overflow-x: auto;
width:100%;
}
.superbigimage img{
overflow-y: scroll;
overflow-x: hidden;
}
.message { color:#446C6E; font-family: monospace;font-size: 10px; line-height: 110%; font-weight: bold;}
div.blue { background-color:#e6f0ff; border-radius: 5px; padding: 5px; text-align: justify;}
div.red { background-color:#e6bab1; border-radius: 5px; padding: 5px; text-align: justify;}
.pandoc-table { /* Should add !important; but it seems no necessary */
margin-left:auto; /* To center */
margin-right:auto;
border-collapse: collapse;
table-layout: auto;
font-size: 11px;
overflow-y: auto;
max-height:450px !important;
white-space: nowrap;
overflow-x: auto;
width:450px;
}
.pandoc-table th {/* header */
text-align: center !important;
font-size: 10px;
padding: 0px;
}
.pandoc-table td {
text-align: left !important;
font-size: 9px;
padding: 0px;
}
.pandoc-table caption {
text-align: left !important;
font-size: 11px !important;
}

.center-table {
text-align: left !important;
font-size: 9px;
padding: 0px;
overflow-y:scroll;
height:400px;
overflow-x: scroll;
}

.controlly{
overflow-y:scroll;
height:350px;
overflow-x: scroll;

}
</style>
<!-- We gotta do each function to hide code and outputs per section, by every ID, we gotta create a different function -->

<script>
function myFunction1() {
var x = document.getElementById("myDIV");
if (x.style.display === "none") {
x.style.display = "block";
} else {
x.style.display = "none";
}
}
</script>

<script>
function myFunction2() {
var x = document.getElementById("myDIV2");
if (x.style.display === "none") {
x.style.display = "block";
} else {
x.style.display = "none";
}
}
</script>
<section id="cargar-paquetes" class="level1">
<h1>Cargar paquetes</h1>
<p>Cargar bases de datos</p>
</section>
<section id="análisis-de-clases-latentes-modelos-definitivos-sin-pueblo-originario-y-año" class="level1">
<h1>Análisis de clases latentes, modelos definitivos, sin pueblo originario y año</h1>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>());<span class="fu">gc</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>          used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells 2889967 154.4    4603382 245.9  4603382 245.9
Vcells 4788211  36.6   10146329  77.5  6795676  51.9</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"data2_lca3_sin_po_ano_2023_05_14.RData"</span>) <span class="co">#Paso 213 y 214</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#variables_probabilities_in_category_sin_po_ano.xlsx</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#variables_probabilities_in_category_glca_adj_sin_po.xlsxbootlrt</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(sjPlot)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(tidyverse)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(tableone)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>manualcolors<span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">"gray"</span>,<span class="fu">seq</span>(<span class="dv">20</span>,<span class="dv">80</span>, <span class="at">by=</span><span class="dv">20</span>)))</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>fig_lca_fit<span class="ot">&lt;-</span> tab_ppio <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate_if</span>(is.character, as.numeric) <span class="sc">%&gt;%</span>  <span class="co"># convert character columns to numeric</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>ModelIndex, <span class="co">#"evryone but index"</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>                      <span class="at">names_to =</span> <span class="st">"indices"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>, <span class="at">values_drop_na =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">indices =</span> <span class="fu">factor</span>(indices, <span class="at">levels =</span> levels, <span class="at">labels =</span> labels)) <span class="sc">%&gt;%</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"(BIC)"</span>,indices, <span class="at">ignore.case=</span>T))<span class="sc">%&gt;%</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">ModelIndex=</span> <span class="fu">factor</span>(ModelIndex, <span class="at">levels=</span><span class="dv">2</span><span class="sc">:</span>n_class_max)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> ModelIndex, <span class="at">y =</span> value, <span class="at">group =</span> indices, <span class="at">color =</span> indices, <span class="at">linetype =</span> indices)) <span class="sc">+</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> manualcolors) <span class="sc">+</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_linetype_manual(values = c("solid", "dashed", "dotted")) +</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Número de clases"</span>, <span class="at">y=</span><span class="st">"Valor"</span>, <span class="at">color=</span><span class="st">"Medida"</span>, <span class="at">linetype=</span><span class="st">"Medida"</span>)<span class="sc">+</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#facet_wrap(.~indices, scales = "free_y", nrow = 4, ncol = 1) +</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  sjPlot<span class="sc">::</span><span class="fu">theme_sjplot</span>()</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>fig_lca_fit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Paso4_files/figure-html/corregir-fig-ajuste-1-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Índices de ajuste, modelo sin covariable</figcaption>
</figure>
</div>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"__fig2_medidas_de_ajuste_polca_sin_ano_pueb_orig.pdf"</span>,fig_lca_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>manualcolors2<span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">"gray"</span>,<span class="fu">seq</span>(<span class="dv">20</span>,<span class="dv">80</span>, <span class="at">by=</span><span class="dv">20</span>)))</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>fig_lca_fit2<span class="ot">&lt;-</span> tab_ppio2 <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate_if</span>(is.character, as.numeric) <span class="sc">%&gt;%</span>  <span class="co"># convert character columns to numeric</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>ModelIndex, <span class="co">#"evryone but index"</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">names_to =</span> <span class="st">"indices"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>, <span class="at">values_drop_na =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">indices =</span> <span class="fu">factor</span>(indices, <span class="at">levels =</span> levels2, <span class="at">labels =</span> labels2)) <span class="sc">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"BIC"</span>,indices, <span class="at">ignore.case=</span>T))<span class="sc">%&gt;%</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">ModelIndex=</span> <span class="fu">factor</span>(ModelIndex, <span class="at">levels=</span><span class="dv">2</span><span class="sc">:</span>n_class_max)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> ModelIndex, <span class="at">y =</span> value, <span class="at">group =</span> indices, <span class="at">color =</span> indices, <span class="at">linetype =</span> indices)) <span class="sc">+</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> manualcolors2) <span class="sc">+</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_linetype_manual(values = c("solid", "dashed", "dotted")) +</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Número de clases"</span>, <span class="at">y=</span><span class="st">"Valor"</span>, <span class="at">color=</span><span class="st">"Medida"</span>,<span class="at">linetype=</span><span class="st">"Medida"</span>)<span class="sc">+</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="co">#facet_wrap(.~indices, scales = "free_y", nrow = 4, ncol = 1) +</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  sjPlot<span class="sc">::</span><span class="fu">theme_sjplot</span>()</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>fig_lca_fit2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Paso4_files/figure-html/corregir-fig-ajuste-2-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Índices de ajuste, modelo variable distal</figcaption>
</figure>
</div>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"__fig3_medidas_de_ajuste_polca_sin_ano_pueb_orig_adj.pdf"</span>,fig_lca_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
</div>
<div class="controlly">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>table_homolog<span class="ot">&lt;-</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind.data.frame</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="at">Name =</span> <span class="fu">c</span>(<span class="st">"n"</span>, <span class="st">"CAUSAL"</span>, <span class="st">"CAUSAL"</span>, <span class="st">"CAUSAL"</span>, <span class="st">"EDAD_MUJER_REC"</span>, </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"EDAD_MUJER_REC"</span>, <span class="st">"EDAD_MUJER_REC"</span>, <span class="st">"EDAD_MUJER_REC"</span>, <span class="st">"EDAD_MUJER_REC"</span>, </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"PAIS_ORIGEN_REC"</span>, <span class="st">"PAIS_ORIGEN_REC"</span>, <span class="st">"PAIS_ORIGEN_REC"</span>, <span class="st">"HITO1_EDAD_GEST_SEM_REC"</span>, </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"HITO1_EDAD_GEST_SEM_REC"</span>, <span class="st">"HITO1_EDAD_GEST_SEM_REC"</span>, <span class="st">"HITO1_EDAD_GEST_SEM_REC"</span>, </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"MACROZONA"</span>, <span class="st">"MACROZONA"</span>, <span class="st">"MACROZONA"</span>, <span class="st">"MACROZONA"</span>, <span class="st">"MACROZONA"</span>, </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"MACROZONA"</span>, <span class="st">"AÑO"</span>, <span class="st">"AÑO"</span>, <span class="st">"AÑO"</span>, <span class="st">"AÑO"</span>, <span class="st">"AÑO"</span>, <span class="st">"PREV_TRAMO_REC"</span>, </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"PREV_TRAMO_REC"</span>, <span class="st">"PREV_TRAMO_REC"</span>, <span class="st">"PREV_TRAMO_REC"</span>, <span class="st">"PREV_TRAMO_REC"</span>, </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"HITO2_DECISION_MUJER_IVE"</span>, <span class="st">"HITO2_DECISION_MUJER_IVE"</span>, <span class="st">"HITO2_DECISION_MUJER_IVE"</span>),</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="at">level =</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">"2"</span>, <span class="st">"3"</span>, <span class="st">"4"</span>, <span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>, <span class="st">"4"</span>, <span class="st">"5"</span>, <span class="st">"1"</span>, </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>          <span class="st">"2"</span>, <span class="st">"3"</span>, <span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>, <span class="st">"4"</span>, <span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>, <span class="st">"4"</span>, <span class="st">"5"</span>, <span class="st">"6"</span>, <span class="st">"2"</span>, </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>          <span class="st">"3"</span>, <span class="st">"4"</span>, <span class="st">"5"</span>, <span class="st">"6"</span>, <span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>, <span class="st">"4"</span>, <span class="st">"5"</span>, <span class="st">"CONTINUAR EL EMBARAZO"</span>, </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>          <span class="st">"INTERRUMPIR EL EMBARAZO"</span>, <span class="st">"NO APLICA, INSCONSCIENTE"</span>),</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="at">cat =</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">"Causal 1"</span>, <span class="st">"Causal 2"</span>, <span class="st">"Causal 3"</span>, <span class="st">"[Perdidos]"</span>, <span class="st">"1. &lt;18"</span>, <span class="st">"2. 18-24"</span>, <span class="st">"3. 25-35"</span>, <span class="st">"4. &gt;=35"</span>, </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>          <span class="st">"[Perdidos]"</span>, <span class="st">"Chile"</span>, <span class="st">"Otros"</span>, <span class="st">"[Perdidos]"</span>, <span class="st">"1. 0-13 semanas"</span>, <span class="st">"2. 14-27 semanas"</span>, <span class="st">"3. &gt;=28 semanas"</span>, </span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>          <span class="st">"[Perdidos]"</span>, <span class="st">"Centro"</span>, <span class="st">"Centro Norte"</span>, <span class="st">"Centro Sur"</span>, <span class="st">"Norte"</span>, <span class="st">"Sur"</span>, <span class="st">"2018"</span>, <span class="st">"2019"</span>, <span class="st">"2020"</span>, <span class="st">"2021"</span>, <span class="st">"2022"</span>, </span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>          <span class="st">"[Perdidos]"</span>, <span class="st">"ISAPRE o FFAA"</span>, <span class="st">"FONASA A/B"</span>, <span class="st">"FONASA C/D"</span>, <span class="st">"NINGUNA"</span>, <span class="st">"CONTINUAR EL EMBARAZO"</span>, <span class="st">"INTERRUMPIR EL EMBARAZO"</span>, <span class="st">"NO APLICA, INSCONSCIENTE"</span>)</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="fu">run_tableone</span>(<span class="at">listVars =</span><span class="fu">c</span>(<span class="st">"CAUSAL"</span>, <span class="st">"EDAD_MUJER_REC"</span>, <span class="st">"PAIS_ORIGEN_REC"</span>, </span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"HITO1_EDAD_GEST_SEM_REC"</span>,<span class="st">"MACROZONA"</span>, <span class="st">"AÑO"</span>, <span class="st">"PREV_TRAMO_REC"</span>,</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"HITO2_DECISION_MUJER_IVE"</span>), <span class="at">df=</span> mydata_preds3, </span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">catVars=</span> <span class="fu">c</span>(<span class="st">"CAUSAL"</span>, <span class="st">"EDAD_MUJER_REC"</span>, <span class="st">"PAIS_ORIGEN_REC"</span>, </span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"HITO1_EDAD_GEST_SEM_REC"</span>,<span class="st">"MACROZONA"</span>, <span class="st">"AÑO"</span>, <span class="st">"PREV_TRAMO_REC"</span>),</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>             <span class="at">strata=</span> <span class="st">"outcome"</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">left_join</span>(table_homolog, <span class="at">by=</span> <span class="fu">c</span>(<span class="st">"Name"</span><span class="ot">=</span><span class="st">"Name"</span>,<span class="st">"level"</span><span class="ot">=</span><span class="st">"level"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Name, cat, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>level) <span class="sc">%&gt;%</span> </span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="st">"markdown"</span>, <span class="at">caption=</span><span class="st">"Descriptivos (acotado)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `add_rownames()` was deprecated in dplyr 1.0.0.
Please use `tibble::rownames_to_column()` instead.
This warning is displayed once every 8 hours.
Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</code></pre>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Descriptivos (acotado)</caption>
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 12%">
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 7%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">cat</th>
<th style="text-align: left;">Overall</th>
<th style="text-align: left;">0</th>
<th style="text-align: left;">1</th>
<th style="text-align: left;">p</th>
<th style="text-align: left;">test</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">n</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">3789</td>
<td style="text-align: left;">606</td>
<td style="text-align: left;">3183</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">CAUSAL</td>
<td style="text-align: left;">Causal 1</td>
<td style="text-align: left;">1171 (30.9)</td>
<td style="text-align: left;">203 (33.5)</td>
<td style="text-align: left;">968 ( 30.4)</td>
<td style="text-align: left;">&lt;0.001</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">CAUSAL</td>
<td style="text-align: left;">Causal 2</td>
<td style="text-align: left;">1887 (49.8)</td>
<td style="text-align: left;">346 (57.1)</td>
<td style="text-align: left;">1541 ( 48.4)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">CAUSAL</td>
<td style="text-align: left;">Causal 3</td>
<td style="text-align: left;">731 (19.3)</td>
<td style="text-align: left;">57 ( 9.4)</td>
<td style="text-align: left;">674 ( 21.2)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">EDAD_MUJER_REC</td>
<td style="text-align: left;">[Perdidos]</td>
<td style="text-align: left;">18 ( 0.5)</td>
<td style="text-align: left;">2 ( 0.3)</td>
<td style="text-align: left;">16 ( 0.5)</td>
<td style="text-align: left;">0.024</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">EDAD_MUJER_REC</td>
<td style="text-align: left;">1. &lt;18</td>
<td style="text-align: left;">269 ( 7.1)</td>
<td style="text-align: left;">55 ( 9.1)</td>
<td style="text-align: left;">214 ( 6.7)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">EDAD_MUJER_REC</td>
<td style="text-align: left;">2. 18-24</td>
<td style="text-align: left;">720 (19.0)</td>
<td style="text-align: left;">102 (16.8)</td>
<td style="text-align: left;">618 ( 19.4)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">EDAD_MUJER_REC</td>
<td style="text-align: left;">3. 25-35</td>
<td style="text-align: left;">1646 (43.4)</td>
<td style="text-align: left;">243 (40.1)</td>
<td style="text-align: left;">1403 ( 44.1)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">EDAD_MUJER_REC</td>
<td style="text-align: left;">4. &gt;=35</td>
<td style="text-align: left;">1136 (30.0)</td>
<td style="text-align: left;">204 (33.7)</td>
<td style="text-align: left;">932 ( 29.3)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">PAIS_ORIGEN_REC</td>
<td style="text-align: left;">[Perdidos]</td>
<td style="text-align: left;">18 ( 0.5)</td>
<td style="text-align: left;">5 ( 0.8)</td>
<td style="text-align: left;">13 ( 0.4)</td>
<td style="text-align: left;">0.005</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">PAIS_ORIGEN_REC</td>
<td style="text-align: left;">Chile</td>
<td style="text-align: left;">3091 (81.6)</td>
<td style="text-align: left;">518 (85.5)</td>
<td style="text-align: left;">2573 ( 80.8)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">PAIS_ORIGEN_REC</td>
<td style="text-align: left;">Otros</td>
<td style="text-align: left;">680 (17.9)</td>
<td style="text-align: left;">83 (13.7)</td>
<td style="text-align: left;">597 ( 18.8)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">HITO1_EDAD_GEST_SEM_REC</td>
<td style="text-align: left;">[Perdidos]</td>
<td style="text-align: left;">87 ( 2.3)</td>
<td style="text-align: left;">12 ( 2.0)</td>
<td style="text-align: left;">75 ( 2.4)</td>
<td style="text-align: left;">&lt;0.001</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">HITO1_EDAD_GEST_SEM_REC</td>
<td style="text-align: left;">1. 0-13 semanas</td>
<td style="text-align: left;">1328 (35.0)</td>
<td style="text-align: left;">128 (21.1)</td>
<td style="text-align: left;">1200 ( 37.7)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">HITO1_EDAD_GEST_SEM_REC</td>
<td style="text-align: left;">2. 14-27 semanas</td>
<td style="text-align: left;">2008 (53.0)</td>
<td style="text-align: left;">343 (56.6)</td>
<td style="text-align: left;">1665 ( 52.3)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">HITO1_EDAD_GEST_SEM_REC</td>
<td style="text-align: left;">3. &gt;=28 semanas</td>
<td style="text-align: left;">366 ( 9.7)</td>
<td style="text-align: left;">123 (20.3)</td>
<td style="text-align: left;">243 ( 7.6)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">MACROZONA</td>
<td style="text-align: left;">[Perdidos]</td>
<td style="text-align: left;">11 ( 0.3)</td>
<td style="text-align: left;">3 ( 0.5)</td>
<td style="text-align: left;">8 ( 0.3)</td>
<td style="text-align: left;">&lt;0.001</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">MACROZONA</td>
<td style="text-align: left;">Centro</td>
<td style="text-align: left;">1608 (42.4)</td>
<td style="text-align: left;">198 (32.7)</td>
<td style="text-align: left;">1410 ( 44.3)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">MACROZONA</td>
<td style="text-align: left;">Centro Norte</td>
<td style="text-align: left;">610 (16.1)</td>
<td style="text-align: left;">74 (12.2)</td>
<td style="text-align: left;">536 ( 16.8)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">MACROZONA</td>
<td style="text-align: left;">Centro Sur</td>
<td style="text-align: left;">555 (14.6)</td>
<td style="text-align: left;">154 (25.4)</td>
<td style="text-align: left;">401 ( 12.6)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">MACROZONA</td>
<td style="text-align: left;">Norte</td>
<td style="text-align: left;">431 (11.4)</td>
<td style="text-align: left;">70 (11.6)</td>
<td style="text-align: left;">361 ( 11.3)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">MACROZONA</td>
<td style="text-align: left;">Sur</td>
<td style="text-align: left;">574 (15.1)</td>
<td style="text-align: left;">107 (17.7)</td>
<td style="text-align: left;">467 ( 14.7)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">AÑO</td>
<td style="text-align: left;">2018</td>
<td style="text-align: left;">732 (19.3)</td>
<td style="text-align: left;">115 (19.0)</td>
<td style="text-align: left;">617 ( 19.4)</td>
<td style="text-align: left;">0.306</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">AÑO</td>
<td style="text-align: left;">2019</td>
<td style="text-align: left;">818 (21.6)</td>
<td style="text-align: left;">149 (24.6)</td>
<td style="text-align: left;">669 ( 21.0)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">AÑO</td>
<td style="text-align: left;">2020</td>
<td style="text-align: left;">662 (17.5)</td>
<td style="text-align: left;">103 (17.0)</td>
<td style="text-align: left;">559 ( 17.6)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">AÑO</td>
<td style="text-align: left;">2021</td>
<td style="text-align: left;">820 (21.6)</td>
<td style="text-align: left;">131 (21.6)</td>
<td style="text-align: left;">689 ( 21.6)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">AÑO</td>
<td style="text-align: left;">2022</td>
<td style="text-align: left;">757 (20.0)</td>
<td style="text-align: left;">108 (17.8)</td>
<td style="text-align: left;">649 ( 20.4)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">PREV_TRAMO_REC</td>
<td style="text-align: left;">[Perdidos]</td>
<td style="text-align: left;">14 ( 0.4)</td>
<td style="text-align: left;">4 ( 0.7)</td>
<td style="text-align: left;">10 ( 0.3)</td>
<td style="text-align: left;">&lt;0.001</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">PREV_TRAMO_REC</td>
<td style="text-align: left;">ISAPRE o FFAA</td>
<td style="text-align: left;">488 (12.9)</td>
<td style="text-align: left;">37 ( 6.1)</td>
<td style="text-align: left;">451 ( 14.2)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">PREV_TRAMO_REC</td>
<td style="text-align: left;">FONASA A/B</td>
<td style="text-align: left;">2096 (55.3)</td>
<td style="text-align: left;">382 (63.0)</td>
<td style="text-align: left;">1714 ( 53.8)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">PREV_TRAMO_REC</td>
<td style="text-align: left;">FONASA C/D</td>
<td style="text-align: left;">1092 (28.8)</td>
<td style="text-align: left;">179 (29.5)</td>
<td style="text-align: left;">913 ( 28.7)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">PREV_TRAMO_REC</td>
<td style="text-align: left;">NINGUNA</td>
<td style="text-align: left;">99 ( 2.6)</td>
<td style="text-align: left;">4 ( 0.7)</td>
<td style="text-align: left;">95 ( 3.0)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">HITO2_DECISION_MUJER_IVE</td>
<td style="text-align: left;">CONTINUAR EL EMBARAZO</td>
<td style="text-align: left;">593 (15.7)</td>
<td style="text-align: left;">593 (97.9)</td>
<td style="text-align: left;">0 ( 0.0)</td>
<td style="text-align: left;">&lt;0.001</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">HITO2_DECISION_MUJER_IVE</td>
<td style="text-align: left;">INTERRUMPIR EL EMBARAZO</td>
<td style="text-align: left;">3183 (84.0)</td>
<td style="text-align: left;">0 ( 0.0)</td>
<td style="text-align: left;">3183 (100.0)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">HITO2_DECISION_MUJER_IVE</td>
<td style="text-align: left;">NO APLICA, INSCONSCIENTE</td>
<td style="text-align: left;">13 ( 0.3)</td>
<td style="text-align: left;">13 ( 2.1)</td>
<td style="text-align: left;">0 ( 0.0)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">#knitr::kable("html", caption="Descriptivos (acotado)") %&gt;% kableExtra::kable_classic()</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>no_mostrar<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">#if(no_mostrar==0){</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    dplyr::select(HITO2_DECISION_MUJER_IVE, c("CAUSAL", "EDAD_MUJER_REC", "PAIS_ORIGEN_REC", "HITO1_EDAD_GEST_SEM_REC","MACROZONA", "AÑO", "PREV_TRAMO_REC")) %&gt;% </span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  chisquare_test<span class="ot">&lt;-</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  mydata_preds3<span class="sc">%&gt;%</span> </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>( </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"CAUSAL"</span>, <span class="st">"EDAD_MUJER_REC"</span>, <span class="st">"PAIS_ORIGEN_REC"</span>, </span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"HITO1_EDAD_GEST_SEM_REC"</span>,<span class="st">"MACROZONA"</span>, <span class="st">"PREV_TRAMO_REC"</span>, <span class="st">"outcome"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">gather</span>(variable,measure, <span class="sc">-</span>outcome) <span class="sc">%&gt;%</span> </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">do</span>(<span class="fu">cbind.data.frame</span>(broom<span class="sc">::</span><span class="fu">tidy</span>(<span class="fu">chisq.test</span>(.<span class="sc">$</span>outcome, .<span class="sc">$</span>measure)),</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>                               broom<span class="sc">::</span><span class="fu">tidy</span>(<span class="fu">sum</span>(<span class="fu">table</span>(.<span class="sc">$</span>outcome, .<span class="sc">$</span>measure))))) <span class="sc">%&gt;%</span> </span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">#casos completos</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">#chisq.test(table(Base_fiscalia_v14_filt$motivodeegreso_mod_imp_rec, Base_fiscalia_v14_filt$sus_principal_mod, exclude=NULL))</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">p.value=</span><span class="fu">ifelse</span>(p.value<span class="sc">&lt;</span>.<span class="dv">001</span>,<span class="st">"&lt;0.001"</span>,<span class="fu">sprintf</span>(<span class="st">"%1.3f"</span>,p.value))) <span class="sc">%&gt;%</span> </span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">statistic=</span><span class="fu">sprintf</span>(<span class="st">"%2.0f"</span>,statistic)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">report=</span><span class="fu">paste0</span>(<span class="st">"X²("</span>,parameter,<span class="st">", "</span>,x,<span class="st">")="</span>,statistic,<span class="st">"; p"</span>, <span class="fu">ifelse</span>(p.value<span class="sc">==</span><span class="st">"&lt;0.001"</span>,p.value, <span class="fu">paste0</span>(<span class="st">"="</span>,p.value)))) <span class="sc">%&gt;%</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">report=</span><span class="fu">sub</span>(<span class="st">"0</span><span class="sc">\\</span><span class="st">."</span>,<span class="st">"0,"</span>,<span class="fu">sub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>,<span class="st">","</span>,report)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: 'tidy.numeric' is deprecated.
See help("Deprecated")</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in chisq.test(.$outcome, .$measure): Chi-squared approximation may be
incorrect</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: 'tidy.numeric' is deprecated.
See help("Deprecated")

Warning: 'tidy.numeric' is deprecated.
See help("Deprecated")</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in chisq.test(.$outcome, .$measure): Chi-squared approximation may be
incorrect</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: 'tidy.numeric' is deprecated.
See help("Deprecated")</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in chisq.test(.$outcome, .$measure): Chi-squared approximation may be
incorrect</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: 'tidy.numeric' is deprecated.
See help("Deprecated")</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in chisq.test(.$outcome, .$measure): Chi-squared approximation may be
incorrect</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: 'tidy.numeric' is deprecated.
See help("Deprecated")</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># chisq.test(Base_fiscalia_v14_filt$motivodeegreso_mod_imp_rec, is.na(Base_fiscalia_v14_filt$offender_d)) </span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># chisq.test(Base_fiscalia_v14_filt$motivodeegreso_mod_imp_rec, is.na(Base_fiscalia_v14_filt$offender_d)) </span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># </span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  fisher_test<span class="ot">&lt;-</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  mydata_preds3 <span class="sc">%&gt;%</span> </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>( </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"CAUSAL"</span>, <span class="st">"EDAD_MUJER_REC"</span>, <span class="st">"PREV_TRAMO_REC"</span>, <span class="st">"MACROZONA"</span>, <span class="st">"outcome"</span>))<span class="sc">%&gt;%</span> </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">gather</span>(variable,measure, <span class="sc">-</span>outcome) <span class="sc">%&gt;%</span> </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">do</span>(<span class="fu">fisher.test</span>(<span class="fu">table</span>(.<span class="sc">$</span>outcome, .<span class="sc">$</span>measure, <span class="at">exclude=</span><span class="cn">NULL</span>), </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>                          <span class="at">workspace =</span> <span class="fl">2e10</span>, <span class="at">simulate.p.value =</span> T, <span class="at">B=</span><span class="fl">1e5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>                broom<span class="sc">::</span><span class="fu">tidy</span>()) </span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="co">#EDAD_MUJER  HITO1_EDAD_GESTACIONAL_SEMANAS  </span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  med_iqr <span class="ot">&lt;-</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind.data.frame</span>(<span class="at">medicion=</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Edad mujer: "</span>,</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(data2<span class="sc">$</span>EDAD_MUJER,.<span class="dv">5</span>, <span class="at">na.rm=</span>T), <span class="st">"["</span>,</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(data2<span class="sc">$</span>EDAD_MUJER,.<span class="dv">25</span>, <span class="at">na.rm=</span>T),<span class="st">", "</span>,</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(data2<span class="sc">$</span>EDAD_MUJER,.<span class="dv">75</span>, <span class="at">na.rm=</span>T),<span class="st">"]"</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>  ), <span class="at">medicion=</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Edad mujer (IVE): "</span>,</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(data2<span class="sc">$</span>EDAD_MUJER[mydata_preds3<span class="sc">$</span>outcome<span class="sc">==</span><span class="dv">1</span>],.<span class="dv">5</span>, <span class="at">na.rm=</span>T), <span class="st">"["</span>,</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(data2<span class="sc">$</span>EDAD_MUJER[mydata_preds3<span class="sc">$</span>outcome<span class="sc">==</span><span class="dv">1</span>],.<span class="dv">25</span>, <span class="at">na.rm=</span>T),<span class="st">", "</span>,</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(data2<span class="sc">$</span>EDAD_MUJER[mydata_preds3<span class="sc">$</span>outcome<span class="sc">==</span><span class="dv">1</span>],.<span class="dv">75</span>, <span class="at">na.rm=</span>T),<span class="st">"]"</span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a><span class="at">medicion=</span><span class="fu">paste0</span>(</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Edad mujer (no IVE): "</span>,</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(data2<span class="sc">$</span>EDAD_MUJER[mydata_preds3<span class="sc">$</span>outcome<span class="sc">==</span><span class="dv">0</span>],.<span class="dv">5</span>, <span class="at">na.rm=</span>T), <span class="st">"["</span>,</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(data2<span class="sc">$</span>EDAD_MUJER[mydata_preds3<span class="sc">$</span>outcome<span class="sc">==</span><span class="dv">0</span>],.<span class="dv">25</span>, <span class="at">na.rm=</span>T),<span class="st">", "</span>,</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(data2<span class="sc">$</span>EDAD_MUJER[mydata_preds3<span class="sc">$</span>outcome<span class="sc">==</span><span class="dv">0</span>],.<span class="dv">75</span>, <span class="at">na.rm=</span>T),<span class="st">"]"</span></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a><span class="at">medicion=</span><span class="fu">paste0</span>(</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Edad gestacional en semanas: "</span>,</span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(data2<span class="sc">$</span>HITO1_EDAD_GESTACIONAL_SEMANAS,.<span class="dv">5</span>, <span class="at">na.rm=</span>T), <span class="st">"["</span>, <span class="fu">quantile</span>(data2<span class="sc">$</span>HITO1_EDAD_GESTACIONAL_SEMANAS,.<span class="dv">25</span>, <span class="at">na.rm=</span>T),<span class="st">", "</span>, <span class="fu">quantile</span>(data2<span class="sc">$</span>HITO1_EDAD_GESTACIONAL_SEMANAS,.<span class="dv">75</span>, <span class="at">na.rm=</span>T),<span class="st">"]"</span>),</span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a><span class="at">medicion=</span><span class="fu">paste0</span>(</span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Edad gestacional en semanas (IVE): "</span>,</span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(data2<span class="sc">$</span>HITO1_EDAD_GESTACIONAL_SEMANAS[mydata_preds3<span class="sc">$</span>outcome<span class="sc">==</span><span class="dv">1</span>],.<span class="dv">5</span>, <span class="at">na.rm=</span>T), <span class="st">"["</span>, <span class="fu">quantile</span>(data2<span class="sc">$</span>HITO1_EDAD_GESTACIONAL_SEMANAS[mydata_preds3<span class="sc">$</span>outcome<span class="sc">==</span><span class="dv">1</span>],.<span class="dv">25</span>, <span class="at">na.rm=</span>T),<span class="st">", "</span>, <span class="fu">quantile</span>(data2<span class="sc">$</span>HITO1_EDAD_GESTACIONAL_SEMANAS[mydata_preds3<span class="sc">$</span>outcome<span class="sc">==</span><span class="dv">1</span>],.<span class="dv">75</span>, <span class="at">na.rm=</span>T),<span class="st">"]"</span>),</span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a><span class="at">medicion=</span><span class="fu">paste0</span>(</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Edad gestacional en semanas (no IVE): "</span>,</span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(data2<span class="sc">$</span>HITO1_EDAD_GESTACIONAL_SEMANAS[mydata_preds3<span class="sc">$</span>outcome<span class="sc">==</span><span class="dv">0</span>],.<span class="dv">5</span>, <span class="at">na.rm=</span>T), <span class="st">"["</span>, <span class="fu">quantile</span>(data2<span class="sc">$</span>HITO1_EDAD_GESTACIONAL_SEMANAS[mydata_preds3<span class="sc">$</span>outcome<span class="sc">==</span><span class="dv">0</span>],.<span class="dv">25</span>, <span class="at">na.rm=</span>T),<span class="st">", "</span>, <span class="fu">quantile</span>(data2<span class="sc">$</span>HITO1_EDAD_GESTACIONAL_SEMANAS[mydata_preds3<span class="sc">$</span>outcome<span class="sc">==</span><span class="dv">0</span>],.<span class="dv">75</span>, <span class="at">na.rm=</span>T),<span class="st">"]"</span> )</span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(med_iqr)<span class="ot">&lt;-</span><span class="st">"medicion"</span></span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Kurksal Wallis</span></span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a>  kruskal<span class="ot">&lt;-</span></span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind.data.frame</span>(</span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span><span class="fu">paste0</span>(<span class="st">"Edad mujer (continua): H("</span>,<span class="fu">kruskal.test</span>(data2<span class="sc">$</span>EDAD_MUJER <span class="sc">~</span> mydata_preds3<span class="sc">$</span>outcome)<span class="sc">$</span>parameter,<span class="st">")="</span>,</span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a>         <span class="fu">round</span>(<span class="fu">kruskal.test</span>(data2<span class="sc">$</span>EDAD_MUJER <span class="sc">~</span> mydata_preds3<span class="sc">$</span>outcome)<span class="sc">$</span>statistic,<span class="dv">1</span>), <span class="st">", p="</span>,</span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a>         <span class="fu">round</span>(<span class="fu">kruskal.test</span>(data2<span class="sc">$</span>EDAD_MUJER <span class="sc">~</span> mydata_preds3<span class="sc">$</span>outcome)<span class="sc">$</span>p.value,<span class="dv">3</span>)),</span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span><span class="fu">paste0</span>(<span class="st">"Edad gestacional (continua): H("</span>,<span class="fu">kruskal.test</span>(data2<span class="sc">$</span>HITO1_EDAD_GESTACIONAL_SEMANAS <span class="sc">~</span> mydata_preds3<span class="sc">$</span>outcome)<span class="sc">$</span>parameter,<span class="st">")="</span>,</span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a>         <span class="fu">round</span>(<span class="fu">kruskal.test</span>(data2<span class="sc">$</span>HITO1_EDAD_GESTACIONAL_SEMANAS <span class="sc">~</span> mydata_preds3<span class="sc">$</span>outcome)<span class="sc">$</span>statistic,<span class="dv">1</span>), <span class="st">", p="</span>,</span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a>         <span class="fu">round</span>(<span class="fu">kruskal.test</span>(data2<span class="sc">$</span>HITO1_EDAD_GESTACIONAL_SEMANAS <span class="sc">~</span> mydata_preds3<span class="sc">$</span>outcome)<span class="sc">$</span>p.value,<span class="dv">3</span>))</span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(kruskal)<span class="ot">&lt;-</span><span class="st">"names"</span></span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a><span class="co">#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_</span></span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a><span class="co">#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_</span></span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a>  rio<span class="sc">::</span><span class="fu">export</span>(<span class="fu">list</span>(<span class="at">chisquare_test =</span> chisquare_test, </span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fisher_test =</span> fisher_test, </span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a>                   <span class="at">kruskal=</span> kruskal,</span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a>                   <span class="at">iqr=</span> med_iqr), <span class="st">"tableone_extension.xlsx"</span>)</span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a><span class="co">#}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<section id="figuras-polca" class="level2">
<h2 class="anchored" data-anchor-id="figuras-polca">Figuras (poLCA)</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#https://agscl.github.io/IVE/Paso35.html</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(plotly)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co">#https://github.com/slowkow/ggrepel</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>lcmodel_wo_na<span class="ot">&lt;-</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>lcmodel <span class="sc">%&gt;%</span> </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>                 dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(CATEGORIA)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>                 dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Var1=</span><span class="fu">str_replace</span>(Var1,<span class="st">"class"</span>,<span class="st">"Clase"</span>),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">L2=</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(L2<span class="sc">==</span><span class="st">"CAUSAL"</span><span class="sc">~</span> <span class="st">"Causal"</span>,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>                                      L2<span class="sc">==</span><span class="st">"EDAD_MUJER_REC"</span><span class="sc">~</span> <span class="st">"Edad mujer"</span>,</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>                                      L2<span class="sc">==</span><span class="st">"MACROZONA"</span><span class="sc">~</span> <span class="st">"Macrozona"</span>,</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>                                      L2<span class="sc">==</span><span class="st">"HITO1_EDAD_GEST_SEM_REC"</span><span class="sc">~</span> <span class="st">"Edad Gestacional</span><span class="sc">\n</span><span class="st">(EG) Hito 1"</span>,</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>                                      L2<span class="sc">==</span><span class="st">"PREV_TRAMO_REC"</span><span class="sc">~</span> <span class="st">"Previsión y</span><span class="sc">\n</span><span class="st">tramo"</span>,</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>                                    L2<span class="sc">==</span><span class="st">"PAIS_ORIGEN_REC"</span><span class="sc">~</span> <span class="st">"País de origen"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CATEGORIA=</span> <span class="fu">gsub</span>(<span class="st">"1.0-13 semanas"</span>,<span class="st">"1. &lt;=13 semanas"</span>,CATEGORIA)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CATEGORIA=</span> <span class="fu">gsub</span>(<span class="st">"CENTRO"</span>,<span class="st">"Centro"</span>,CATEGORIA)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CATEGORIA=</span> <span class="fu">gsub</span>(<span class="st">"CENTRO NORTE"</span>,<span class="st">"Centro norte"</span>,CATEGORIA)) <span class="sc">%&gt;%</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CATEGORIA=</span> <span class="fu">gsub</span>(<span class="st">"CENTRO SUR"</span>,<span class="st">"Centro sur"</span>,CATEGORIA)) <span class="sc">%&gt;%</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CATEGORIA=</span> <span class="fu">gsub</span>(<span class="st">"NORTE"</span>,<span class="st">"Norte"</span>,CATEGORIA)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CATEGORIA=</span> <span class="fu">gsub</span>(<span class="st">"SUR"</span>,<span class="st">"Sur"</span>,CATEGORIA)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CATEGORIA=</span> <span class="fu">gsub</span>(<span class="st">"25-35"</span>,<span class="st">"25-34"</span>,CATEGORIA)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CATEGORIA=</span> <span class="fu">gsub</span>(<span class="st">"25-35"</span>,<span class="st">"25-34"</span>,CATEGORIA)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CATEGORIA=</span> <span class="fu">gsub</span>(<span class="st">"25-35"</span>,<span class="st">"25-34"</span>,CATEGORIA)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CATEGORIA=</span> <span class="fu">gsub</span>(<span class="st">"25-35"</span>,<span class="st">"25-34"</span>,CATEGORIA)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CATEGORIA=</span> <span class="fu">gsub</span>(<span class="st">"25-35"</span>,<span class="st">"25-34"</span>,CATEGORIA)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">lab2=</span>glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{stringr::str_replace(CATEGORIA,' ','</span><span class="sc">\n</span><span class="st">')}</span><span class="sc">\n</span><span class="st">({scales::percent(value)})"</span>))</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>zp1b <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span> lcmodel_wo_na, <span class="fu">aes</span>(<span class="at">x =</span> L2, <span class="at">y =</span> value, <span class="at">fill =</span> Var2, <span class="at">label=</span>lab2))</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>zp1b <span class="ot">&lt;-</span> zp1b <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>)</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a><span class="co">#zp1b &lt;- zp1b + geom_text(position = position_stack(vjust = 0.5), size=3)  # add labels</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>zp1b <span class="ot">&lt;-</span> zp1b <span class="sc">+</span> <span class="fu">facet_grid</span>(Var1 <span class="sc">~</span> .) </span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>zp1b <span class="ot">&lt;-</span> zp1b <span class="sc">+</span> <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">paste0</span>(<span class="st">"grey"</span>,<span class="fu">seq</span>(<span class="dv">20</span>,<span class="dv">80</span>, <span class="at">by=</span><span class="dv">60</span><span class="sc">/</span><span class="dv">6</span>))) <span class="sc">+</span><span class="fu">theme_bw</span>()</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>zp1b <span class="ot">&lt;-</span> zp1b <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Porcentaje de probabilidad de respuesta"</span>, </span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>                  <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fill =</span><span class="st">"Cateorías de</span><span class="sc">\n</span><span class="st">Respuesta"</span>)</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>zp1b <span class="ot">&lt;-</span> zp1b <span class="sc">+</span> <span class="fu">theme</span>( <span class="at">axis.text.y=</span><span class="fu">element_blank</span>(),</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>                    <span class="at">axis.ticks.y=</span><span class="fu">element_blank</span>(),                    </span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>                    <span class="at">panel.grid.major.y=</span><span class="fu">element_blank</span>())</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>zp1b <span class="ot">&lt;-</span> zp1b <span class="sc">+</span> <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">reverse=</span><span class="cn">TRUE</span>))</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>zp1b <span class="ot">&lt;-</span> zp1b <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"zp1.png"</span>, zp1b<span class="sc">+</span>ggrepel<span class="sc">::</span><span class="fu">geom_label_repel</span>(<span class="at">data=</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(lcmodel_wo_na,<span class="sc">!</span>CATEGORIA<span class="sc">==</span><span class="st">"Perdidos"</span>),<span class="co">#aes(#y=half, label=lab),</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>      <span class="co">#position = position_dodge(width = .5),    # move to center of bars</span></span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>              <span class="co">#vjust = 0,    # nudge above top of bar</span></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>  <span class="co">#position = position_stack(vjust = 0.5),</span></span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>            <span class="co">#position = position_dodge(width = .8),</span></span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>            <span class="co">#vjust = .1,</span></span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>              <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>            <span class="at">max.iter =</span> <span class="fl">1e6</span>,</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>            <span class="co">#direction = "y",</span></span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>            <span class="co">#force=1,</span></span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>            <span class="co">#seed=123,</span></span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>            <span class="at">colour =</span> <span class="st">"white"</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>)<span class="sc">+</span><span class="fu">theme</span>(<span class="at">legend.position=</span> <span class="st">"none"</span>), <span class="at">height=</span><span class="dv">13</span>)<span class="co">#, fill = "white" --&gt; dentro de label repel</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 13 in image</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplotly</span>(zp1, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text_label"</span>))<span class="sc">%&gt;%</span> <span class="fu">layout</span>(<span class="at">xaxis=</span> <span class="fu">list</span>(<span class="at">showticklabels =</span> T),<span class="at">height=</span><span class="dv">600</span>, <span class="at">width=</span><span class="dv">800</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Specifying width/height in layout() is now deprecated.
Please specify in ggplotly() or plot_ly()</code></pre>
</div>
<div class="cell-output-display">
<div id="htmlwidget-2fd2aab90f4a2a473e81" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2fd2aab90f4a2a473e81">{"x":{"data":[{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[1,1,1,0.980915667274472,0.993791120196366,0.974671914878655],"x":[1,2,5,3,4,6],"y":[0,0,0,0.019084332725528,0.00620887980363394,0.0253280851213451],"text":["text_label: Categoria:NA<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 2%","text_label: Categoria:Perdidos<br>%: 1%","text_label: Categoria:Perdidos<br>%: 3%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(1)","legendgroup":"Pr(1)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[1,0.999999999999998,1,0.984950800243629,1,0.999999999999998],"x":[1,2,5,3,4,6],"y":[0,0,0,0.015049199756371,0,0],"text":["text_label: Categoria:NA<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 2%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(1)","legendgroup":"Pr(1)","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[1,0.995744425749271,0.96611880999384,0.976964503606448,0.994070251184926,0.987685569752085],"x":[1,2,5,3,4,6],"y":[0,0.00425557425072876,0.0338811900061595,0.0230354963935472,0.00592974881507224,0.0123144302479127],"text":["text_label: Categoria:NA<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 3%","text_label: Categoria:Perdidos<br>%: 2%","text_label: Categoria:Perdidos<br>%: 1%","text_label: Categoria:Perdidos<br>%: 1%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(1)","legendgroup":"Pr(1)","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[1,0.992785144929074,0.999802148654907,0.970920370496147,0.99781781550483,0.998773527534932],"x":[1,2,5,3,4,6],"y":[0,0.00721485507092667,0.000197851345098199,0.0290796295038547,0.00218218449517105,0.00122647246506991],"text":["text_label: Categoria:NA<br>%: 0%","text_label: Categoria:Perdidos<br>%: 1%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 3%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(1)","legendgroup":"Pr(1)","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[1,0.998273959218577,1,0.991130026285512,0.995775679069453,0.99825297294858],"x":[1,2,5,3,4,6],"y":[0,0.00172604078142269,0,0.00886997371449016,0.00422432093054781,0.00174702705142049],"text":["text_label: Categoria:NA<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 1%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(1)","legendgroup":"Pr(1)","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.976684873229179,0.835055068899791,0.999866417906182,0,0.437549377984524,0.968500821382119],"x":[1,2,5,3,4,6],"y":[0.0233151267708209,0.164944931100209,0.000133582093817752,0.980915667274472,0.556241742211842,0.00617109349653577],"text":["text_label: Categoria:Causal 1<br>%: 2%","text_label: Categoria:1.<18<br>%: 16%","text_label: Categoria:Chileno<br>%: 0%","text_label: Categoria:1.0-13 semanas<br>%: 98%","text_label: Categoria:CENTRO<br>%: 56%","text_label: Categoria:ISAPRE y FFAA<br>%: 1%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(2)","legendgroup":"Pr(2)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.807218657879772,0.999999999999998,0.0748453987798084,0.619634312214631,0.285279014133948,0.190386560181002],"x":[1,2,5,3,4,6],"y":[0.19278134212023,0,0.925154601220194,0.365316488028999,0.714720985866054,0.809613439818996],"text":["text_label: Categoria:Causal 1<br>%: 19%","text_label: Categoria:1.<18<br>%: 0%","text_label: Categoria:Chileno<br>%: 93%","text_label: Categoria:1.0-13 semanas<br>%: 37%","text_label: Categoria:CENTRO<br>%: 71%","text_label: Categoria:ISAPRE y FFAA<br>%: 81%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(2)","legendgroup":"Pr(2)","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.535287411413692,0.987292915099359,0.9230449626798,0.860649339385707,0.425768834033336,0.973740290513489],"x":[1,2,5,3,4,6],"y":[0.464712588586307,0.00845151064991267,0.0430738473140394,0.11631516422074,0.56830141715159,0.0139452792385961],"text":["text_label: Categoria:Causal 1<br>%: 46%","text_label: Categoria:1.<18<br>%: 1%","text_label: Categoria:Chileno<br>%: 4%","text_label: Categoria:1.0-13 semanas<br>%: 12%","text_label: Categoria:CENTRO<br>%: 57%","text_label: Categoria:ISAPRE y FFAA<br>%: 1%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(2)","legendgroup":"Pr(2)","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.596158582547657,0.974803695450621,3.49815002904237e-08,0.794184101091367,0.676972359803013,0.973699629212393],"x":[1,2,5,3,4,6],"y":[0.403841417452343,0.0179814494784533,0.999802113673406,0.17673626940478,0.320845455701817,0.0250738983225398],"text":["text_label: Categoria:Causal 1<br>%: 40%","text_label: Categoria:1.<18<br>%: 2%","text_label: Categoria:Chileno<br>%: 100%","text_label: Categoria:1.0-13 semanas<br>%: 18%","text_label: Categoria:CENTRO<br>%: 32%","text_label: Categoria:ISAPRE y FFAA<br>%: 3%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(2)","legendgroup":"Pr(2)","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.990230655327665,0.651025710103659,0.00651227570785374,0.00347939877250532,0.610887880950045,0.928725688780591],"x":[1,2,5,3,4,6],"y":[0.00976934467233692,0.347248249114919,0.993487724292148,0.987650627513006,0.384887798119407,0.0695272841679889],"text":["text_label: Categoria:Causal 1<br>%: 1%","text_label: Categoria:1.<18<br>%: 35%","text_label: Categoria:Chileno<br>%: 99%","text_label: Categoria:1.0-13 semanas<br>%: 99%","text_label: Categoria:CENTRO<br>%: 38%","text_label: Categoria:ISAPRE y FFAA<br>%: 7%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(2)","legendgroup":"Pr(2)","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.97668484201021,0.601545026757105,0,0,0.35055321378937,0.446021929180281],"x":[1,2,5,3,4,6],"y":[3.12189681883623e-08,0.233510042142686,0.999866417906182,0,0.0869961641951542,0.522478892201838],"text":["text_label: Categoria:Causal 2<br>%: 0%","text_label: Categoria:2.18-24<br>%: 23%","text_label: Categoria:Otro<br>%: 100%","text_label: Categoria:2.14-27 semanas<br>%: 0%","text_label: Categoria:CENTRO NORTE<br>%: 9%","text_label: Categoria:FONASA A/B<br>%: 52%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(3)","legendgroup":"Pr(3)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[7.56005804210057e-68,0.959530943370842,0,0.0498560541998399,0.19309621975954,0.190386559633769],"x":[1,2,5,3,4,6],"y":[0.807218657879772,0.0404690566291566,0.0748453987798084,0.569778258014791,0.0921827943744072,5.47232731351599e-10],"text":["text_label: Categoria:Causal 2<br>%: 81%","text_label: Categoria:2.18-24<br>%: 4%","text_label: Categoria:Otro<br>%: 7%","text_label: Categoria:2.14-27 semanas<br>%: 57%","text_label: Categoria:CENTRO NORTE<br>%: 9%","text_label: Categoria:FONASA A/B<br>%: 0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(3)","legendgroup":"Pr(3)","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.816956155494956,0,0.126773446335361,0.320681486415375,0.365111022577667],"x":[1,2,5,3,4,6],"y":[0.535287411413692,0.170336759604403,0.9230449626798,0.733875893050346,0.105087347617962,0.608629267935823],"text":["text_label: Categoria:Causal 2<br>%: 54%","text_label: Categoria:2.18-24<br>%: 17%","text_label: Categoria:Otro<br>%: 92%","text_label: Categoria:2.14-27 semanas<br>%: 73%","text_label: Categoria:CENTRO NORTE<br>%: 11%","text_label: Categoria:FONASA A/B<br>%: 61%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(3)","legendgroup":"Pr(3)","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[2.7818776122821e-253,0.764155703408408,0,0.134768820106599,0.483791070868837,0.350969814345677],"x":[1,2,5,3,4,6],"y":[0.596158582547657,0.210647992042213,3.49815002904237e-08,0.659415280984767,0.193181288934176,0.622729814866715],"text":["text_label: Categoria:Causal 2<br>%: 60%","text_label: Categoria:2.18-24<br>%: 21%","text_label: Categoria:Otro<br>%: 0%","text_label: Categoria:2.14-27 semanas<br>%: 66%","text_label: Categoria:CENTRO NORTE<br>%: 19%","text_label: Categoria:FONASA A/B<br>%: 62%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(3)","legendgroup":"Pr(3)","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.990230655327665,0.404683277538876,0,0,0.436182258118065,0.20512247707183],"x":[1,2,5,3,4,6],"y":[0,0.246342432564782,0.00651227570785374,0.00347939877250532,0.17470562283198,0.723603211708762],"text":["text_label: Categoria:Causal 2<br>%: 0%","text_label: Categoria:2.18-24<br>%: 25%","text_label: Categoria:Otro<br>%: 1%","text_label: Categoria:2.14-27 semanas<br>%: 0%","text_label: Categoria:CENTRO NORTE<br>%: 17%","text_label: Categoria:FONASA A/B<br>%: 72%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(3)","legendgroup":"Pr(3)","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[0,0.150070452679822,0,0.333931082870299,0.279139189705861],"x":[1,2,3,4,6],"y":[0.97668484201021,0.451474574077283,0,0.0166221309190703,0.16688273947442],"text":["text_label: Categoria:Causal 3<br>%: 98%","text_label: Categoria:3.25-35<br>%: 45%","text_label: Categoria:3.>=28 semanas<br>%: 0%","text_label: Categoria:CENTRO SUR<br>%: 2%","text_label: Categoria:FONASA C/D<br>%: 17%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(4)","legendgroup":"Pr(4)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[0,0.534040393342309,0,0.13754332531386,0.00651386694343726],"x":[1,2,3,4,6],"y":[7.56005804210057e-68,0.425490550028533,0.0498560541998399,0.0555528944456802,0.183872692690332],"text":["text_label: Categoria:Causal 3<br>%: 0%","text_label: Categoria:3.25-35<br>%: 43%","text_label: Categoria:3.>=28 semanas<br>%: 5%","text_label: Categoria:CENTRO SUR<br>%: 6%","text_label: Categoria:FONASA C/D<br>%: 18%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(4)","legendgroup":"Pr(4)","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[0,0.314422511386102,0,0.261298825605891,0.0779680181389814],"x":[1,2,3,4,6],"y":[0,0.502533644108853,0.126773446335361,0.0593826608094836,0.287143004438685],"text":["text_label: Categoria:Causal 3<br>%: 0%","text_label: Categoria:3.25-35<br>%: 50%","text_label: Categoria:3.>=28 semanas<br>%: 13%","text_label: Categoria:CENTRO SUR<br>%: 6%","text_label: Categoria:FONASA C/D<br>%: 29%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(4)","legendgroup":"Pr(4)","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[0,0.307062886938626,0,0.283435532736182,0.00359380058234694],"x":[1,2,3,4,6],"y":[2.7818776122821e-253,0.457092816469782,0.134768820106599,0.200355538132655,0.34737601376333],"text":["text_label: Categoria:Causal 3<br>%: 0%","text_label: Categoria:3.25-35<br>%: 46%","text_label: Categoria:3.>=28 semanas<br>%: 13%","text_label: Categoria:CENTRO SUR<br>%: 20%","text_label: Categoria:FONASA C/D<br>%: 35%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(4)","legendgroup":"Pr(4)","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[0,0.108916879059431,0,0.290958993255916,0.00529917113531657],"x":[1,2,3,4,6],"y":[0.990230655327665,0.295766398479446,0,0.145223264862149,0.199823305936513],"text":["text_label: Categoria:Causal 3<br>%: 99%","text_label: Categoria:3.25-35<br>%: 30%","text_label: Categoria:3.>=28 semanas<br>%: 0%","text_label: Categoria:CENTRO SUR<br>%: 15%","text_label: Categoria:FONASA C/D<br>%: 20%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(4)","legendgroup":"Pr(4)","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.037891277253237,0],"x":[2,4,6],"y":[0.150070452679822,0.296039805617062,0.279139189705861],"text":["text_label: Categoria:4.>=35<br>%: 15%","text_label: Categoria:NORTE<br>%: 30%","text_label: Categoria:NINGUNA<br>%: 28%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(5)","legendgroup":"Pr(5)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.0677091642903244,0],"x":[2,4,6],"y":[0.534040393342309,0.0698341610235357,0.00651386694343726],"text":["text_label: Categoria:4.>=35<br>%: 53%","text_label: Categoria:NORTE<br>%: 7%","text_label: Categoria:NINGUNA<br>%: 1%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(5)","legendgroup":"Pr(5)","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.0529999981518537,0],"x":[2,4,6],"y":[0.314422511386102,0.208298827454038,0.0779680181389814],"text":["text_label: Categoria:4.>=35<br>%: 31%","text_label: Categoria:NORTE<br>%: 21%","text_label: Categoria:NINGUNA<br>%: 8%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(5)","legendgroup":"Pr(5)","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.189888261568279,0],"x":[2,4,6],"y":[0.307062886938626,0.0935472711679035,0.00359380058234694],"text":["text_label: Categoria:4.>=35<br>%: 31%","text_label: Categoria:NORTE<br>%: 9%","text_label: Categoria:NINGUNA<br>%: 0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(5)","legendgroup":"Pr(5)","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.204803937653654,0],"x":[2,4,6],"y":[0.108916879059431,0.0861550556022612,0.00529917113531657],"text":["text_label: Categoria:4.>=35<br>%: 11%","text_label: Categoria:NORTE<br>%: 9%","text_label: Categoria:NINGUNA<br>%: 1%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(5)","legendgroup":"Pr(5)","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.037891277253237],"text":"text_label: Categoria:SUR<br>%: 4%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(6)","legendgroup":"Pr(6)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.0677091642903244],"text":"text_label: Categoria:SUR<br>%: 7%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(6)","legendgroup":"Pr(6)","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.0529999981518537],"text":"text_label: Categoria:SUR<br>%: 5%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(6)","legendgroup":"Pr(6)","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.189888261568279],"text":"text_label: Categoria:SUR<br>%: 19%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(6)","legendgroup":"Pr(6)","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.204803937653654],"text":"text_label: Categoria:SUR<br>%: 20%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(6)","legendgroup":"Pr(6)","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":37.9178082191781,"r":18.9954337899543,"b":25.5707762557078,"l":25.5707762557078},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,6.6],"tickmode":"array","ticktext":["CAUSAL","EDAD_MUJER_REC","HITO1_EDAD_GEST_SEM_REC","MACROZONA","PAIS_ORIGEN_REC","PREV_TRAMO_REC"],"tickvals":[1,2,3,4,5,6],"categoryorder":"array","categoryarray":["CAUSAL","EDAD_MUJER_REC","HITO1_EDAD_GEST_SEM_REC","MACROZONA","PAIS_ORIGEN_REC","PREV_TRAMO_REC"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-30,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y5","title":"","hoverformat":".2f"},"yaxis":{"domain":[0.805707762557078,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.0500000000000002,1.05000000000001],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"annotations":[{"text":"Porcentaje de probabilidad de respuesta","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-7.30593607305936},{"text":"class 1: ","x":1,"y":0.902853881278539,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"class 2: ","x":1,"y":0.7,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"class 3: ","x":1,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"class 4: ","x":1,"y":0.3,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"class 5: ","x":1,"y":0.0971461187214612,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"}],"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.805707762557078,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.805707762557078,"y1":1,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.605707762557078,"y1":0.794292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.605707762557078,"y1":0.794292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.405707762557078,"y1":0.594292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.405707762557078,"y1":0.594292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.205707762557078,"y1":0.394292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.205707762557078,"y1":0.394292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":0.194292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0,"y1":0.194292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":false,"range":[-0.0500000000000002,1.05000000000001],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0.605707762557078,0.794292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[-0.0500000000000002,1.05000000000001],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0.405707762557078,0.594292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[-0.0500000000000002,1.05000000000001],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0.205707762557078,0.394292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis5":{"type":"linear","autorange":false,"range":[-0.0500000000000002,1.05000000000001],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0,0.194292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Cateorías de<br />Respuesta","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative","height":600,"width":800},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"431827e857c2":{"x":{},"y":{},"fill":{},"label":{},"type":"bar"}},"cur_data":"431827e857c2","visdat":{"431827e857c2":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Distribución de categorías del modelo</p>
</div>
</div>
<p><br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplotly(zp2, tooltip = c("text_label"))%&gt;% layout(xaxis= list(showticklabels = T),height=600, width=800)</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>zp2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Paso4_files/figure-html/clasificaciones-res-distal-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Distribución de categorías del modelo ajustado</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(zp2, <span class="at">tooltip=</span> <span class="fu">c</span>(<span class="st">"text_label"</span>))<span class="sc">%&gt;%</span> <span class="fu">layout</span>(<span class="at">xaxis=</span> <span class="fu">list</span>(<span class="at">showticklabel=</span>T), <span class="at">height=</span><span class="dv">600</span>, <span class="at">width=</span><span class="dv">800</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Specifying width/height in layout() is now deprecated.
Please specify in ggplotly() or plot_ly()</code></pre>
</div>
<div class="cell-output-display">
<div id="htmlwidget-023f9c4d390e23b809a7" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-023f9c4d390e23b809a7">{"x":{"data":[{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[1,0.998264589913616,1,0.99121981100125,0.996174445181021,0.998247057304926],"x":[1,2,5,3,4,6],"y":[0,0.00173541008638356,0,0.00878018899875288,0.00382555481897828,0.00175294269507553],"text":["text_label: Categoria:NA<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 1%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(1)","legendgroup":"Pr(1)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[1,1,0.98793327567363,0.979618721211047,1,0.990232678590529],"x":[1,2,5,3,4,6],"y":[0,0,0.0120667243263699,0.0203812787889506,0,0.00976732140947101],"text":["text_label: Categoria:NA<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 1%","text_label: Categoria:Perdidos<br>%: 2%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 1%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(1)","legendgroup":"Pr(1)","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[1,0.991791848493614,0.994071632280089,0.971011836907847,0.996236572904121,0.997959439994004],"x":[1,2,5,3,4,6],"y":[0,0.00820815150638665,0.00592836771991323,0.0289881630921541,0.00376342709587951,0.00204056000599606],"text":["text_label: Categoria:NA<br>%: 0%","text_label: Categoria:Perdidos<br>%: 1%","text_label: Categoria:Perdidos<br>%: 1%","text_label: Categoria:Perdidos<br>%: 3%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(1)","legendgroup":"Pr(1)","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[1,1,1,0.980804590691482,0.993803856050848,0.974423607295448],"x":[1,2,5,3,4,6],"y":[0,0,0,0.019195409308519,0.00619614394915147,0.0255763927045523],"text":["text_label: Categoria:NA<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 2%","text_label: Categoria:Perdidos<br>%: 1%","text_label: Categoria:Perdidos<br>%: 3%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(1)","legendgroup":"Pr(1)","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[1,0.999999999999999,1,0.981938979166238,0.999999999999999,0.999999999999998],"x":[1,2,5,3,4,6],"y":[0,0,0,0.0180610208337614,0,0],"text":["text_label: Categoria:NA<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 2%","text_label: Categoria:Perdidos<br>%: 0%","text_label: Categoria:Perdidos<br>%: 0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(1)","legendgroup":"Pr(1)","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.995116217750229,0.64993513019299,0.00671725801932747,0.00348462512483849,0.611197571811657,0.928586284407656],"x":[1,2,5,3,4,6],"y":[0.00488378224977437,0.348329459720626,0.993282741980675,0.987735185876412,0.384976873369364,0.0696607728972704],"text":["text_label: Categoria:Causal 1<br>%: 0%","text_label: Categoria:1.<18<br>%: 35%","text_label: Categoria:Chileno<br>%: 99%","text_label: Categoria:1.0-13 semanas<br>%: 99%","text_label: Categoria:CENTRO<br>%: 38%","text_label: Categoria:ISAPRE y FFAA<br>%: 7%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(2)","legendgroup":"Pr(2)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.53737969514965,0.991109618142746,0.986820345615791,0.865477580147963,0.433978315149207,0.98957903629986],"x":[1,2,5,3,4,6],"y":[0.46262030485035,0.00889038185725444,0.0011129300578393,0.114141141063084,0.566021684850794,0.000653642290668888],"text":["text_label: Categoria:Causal 1<br>%: 46%","text_label: Categoria:1.<18<br>%: 1%","text_label: Categoria:Chileno<br>%: 0%","text_label: Categoria:1.0-13 semanas<br>%: 11%","text_label: Categoria:CENTRO<br>%: 57%","text_label: Categoria:ISAPRE y FFAA<br>%: 0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(2)","legendgroup":"Pr(2)","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.593171090311279,0.97371962578864,1.0568162515055e-16,0.797718315913219,0.675916442178513,0.96745852071372],"x":[1,2,5,3,4,6],"y":[0.406828909688721,0.0180722227049743,0.994071632280089,0.173293520994628,0.320320130725607,0.0305009192802841],"text":["text_label: Categoria:Causal 1<br>%: 41%","text_label: Categoria:1.<18<br>%: 2%","text_label: Categoria:Chileno<br>%: 99%","text_label: Categoria:1.0-13 semanas<br>%: 17%","text_label: Categoria:CENTRO<br>%: 32%","text_label: Categoria:ISAPRE y FFAA<br>%: 3%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(2)","legendgroup":"Pr(2)","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.975324699955573,0.835157075700297,0.997248644617157,0,0.437791729556782,0.96827449180948],"x":[1,2,5,3,4,6],"y":[0.0246753000444287,0.164842924299702,0.00275135538284388,0.980804590691482,0.556012126494066,0.00614911548596775],"text":["text_label: Categoria:Causal 1<br>%: 2%","text_label: Categoria:1.<18<br>%: 16%","text_label: Categoria:Chileno<br>%: 0%","text_label: Categoria:1.0-13 semanas<br>%: 98%","text_label: Categoria:CENTRO<br>%: 56%","text_label: Categoria:ISAPRE y FFAA<br>%: 1%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(2)","legendgroup":"Pr(2)","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.797888919386893,0.999999999999999,0.0930711769258465,0.61165834513382,0.27948175262683,0.242190135487058],"x":[1,2,5,3,4,6],"y":[0.20211108061311,0,0.906928823074157,0.370280634032419,0.720518247373168,0.75780986451294],"text":["text_label: Categoria:Causal 1<br>%: 20%","text_label: Categoria:1.<18<br>%: 0%","text_label: Categoria:Chileno<br>%: 91%","text_label: Categoria:1.0-13 semanas<br>%: 37%","text_label: Categoria:CENTRO<br>%: 72%","text_label: Categoria:ISAPRE y FFAA<br>%: 76%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(2)","legendgroup":"Pr(2)","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.995116217750229,0.403910543604025,0,0,0.436055379875627,0.20476298871331],"x":[1,2,5,3,4,6],"y":[0,0.246024586588964,0.00671725801932747,0.00348462512483849,0.17514219193603,0.723823295694345],"text":["text_label: Categoria:Causal 2<br>%: 0%","text_label: Categoria:2.18-24<br>%: 25%","text_label: Categoria:Otro<br>%: 1%","text_label: Categoria:2.14-27 semanas<br>%: 0%","text_label: Categoria:CENTRO NORTE<br>%: 18%","text_label: Categoria:FONASA A/B<br>%: 72%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(3)","legendgroup":"Pr(3)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.816424061951385,0,0.129417727270141,0.327959842129197,0.363559290081281],"x":[1,2,5,3,4,6],"y":[0.53737969514965,0.174685556191361,0.986820345615791,0.736059852877823,0.106018473020009,0.626019746218579],"text":["text_label: Categoria:Causal 2<br>%: 54%","text_label: Categoria:2.18-24<br>%: 17%","text_label: Categoria:Otro<br>%: 99%","text_label: Categoria:2.14-27 semanas<br>%: 74%","text_label: Categoria:CENTRO NORTE<br>%: 11%","text_label: Categoria:FONASA A/B<br>%: 63%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(3)","legendgroup":"Pr(3)","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.762301719523223,0,0.137413661611329,0.484069516951059,0.342038631608492],"x":[1,2,5,3,4,6],"y":[0.593171090311279,0.211417906265418,1.0568162515055e-16,0.66030465430189,0.191846925227454,0.625419889105228],"text":["text_label: Categoria:Causal 2<br>%: 59%","text_label: Categoria:2.18-24<br>%: 21%","text_label: Categoria:Otro<br>%: 0%","text_label: Categoria:2.14-27 semanas<br>%: 66%","text_label: Categoria:CENTRO NORTE<br>%: 19%","text_label: Categoria:FONASA A/B<br>%: 63%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(3)","legendgroup":"Pr(3)","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.975285132906305,0.602017357753966,0,0,0.350728111452615,0.446897147785011],"x":[1,2,5,3,4,6],"y":[3.95670492677747e-05,0.233139717946331,0.997248644617157,0,0.087063618104167,0.521377344024469],"text":["text_label: Categoria:Causal 2<br>%: 0%","text_label: Categoria:2.18-24<br>%: 23%","text_label: Categoria:Otro<br>%: 100%","text_label: Categoria:2.14-27 semanas<br>%: 0%","text_label: Categoria:CENTRO NORTE<br>%: 9%","text_label: Categoria:FONASA A/B<br>%: 52%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(3)","legendgroup":"Pr(3)","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[2.46664604339963e-215,0.960739463190831,0,0.0396017765922322,0.18578492985038,0.237224772235856],"x":[1,2,5,3,4,6],"y":[0.797888919386893,0.0392605368091672,0.0930711769258465,0.572056568541587,0.0936968227764509,0.00496536325120142],"text":["text_label: Categoria:Causal 2<br>%: 80%","text_label: Categoria:2.18-24<br>%: 4%","text_label: Categoria:Otro<br>%: 9%","text_label: Categoria:2.14-27 semanas<br>%: 57%","text_label: Categoria:CENTRO NORTE<br>%: 9%","text_label: Categoria:FONASA A/B<br>%: 0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(3)","legendgroup":"Pr(3)","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[0,0.108825800379701,0,0.290802785359433,0.00512068579540664],"x":[1,2,3,4,6],"y":[0.995116217750229,0.295084743224324,0,0.145252594516194,0.199642302917904],"text":["text_label: Categoria:Causal 3<br>%: 100%","text_label: Categoria:3.25-35<br>%: 30%","text_label: Categoria:3.>=28 semanas<br>%: 0%","text_label: Categoria:CENTRO SUR<br>%: 15%","text_label: Categoria:FONASA C/D<br>%: 20%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(4)","legendgroup":"Pr(4)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[0,0.314190387118449,0,0.26569229843175,0.0816699611900761],"x":[1,2,3,4,6],"y":[0,0.502233674832936,0.129417727270141,0.062267543697447,0.281889328891205],"text":["text_label: Categoria:Causal 3<br>%: 0%","text_label: Categoria:3.25-35<br>%: 50%","text_label: Categoria:3.>=28 semanas<br>%: 13%","text_label: Categoria:CENTRO SUR<br>%: 6%","text_label: Categoria:FONASA C/D<br>%: 28%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(4)","legendgroup":"Pr(4)","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[0,0.305994176331993,0,0.284206411429924,0.00365699606422276],"x":[1,2,3,4,6],"y":[0,0.456307543191229,0.137413661611329,0.199863105521135,0.338381635544269],"text":["text_label: Categoria:Causal 3<br>%: 0%","text_label: Categoria:3.25-35<br>%: 46%","text_label: Categoria:3.>=28 semanas<br>%: 14%","text_label: Categoria:CENTRO SUR<br>%: 20%","text_label: Categoria:FONASA C/D<br>%: 34%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(4)","legendgroup":"Pr(4)","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[0,0.15087452838513,0,0.33422462411148,0.279531375193231],"x":[1,2,3,4,6],"y":[0.975285132906305,0.451142829368836,0,0.0165034873411348,0.16736577259178],"text":["text_label: Categoria:Causal 3<br>%: 98%","text_label: Categoria:3.25-35<br>%: 45%","text_label: Categoria:3.>=28 semanas<br>%: 0%","text_label: Categoria:CENTRO SUR<br>%: 2%","text_label: Categoria:FONASA C/D<br>%: 17%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(4)","legendgroup":"Pr(4)","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[0,0.526152023409543,0,0.136034982964798,0.00906664164223762],"x":[1,2,3,4,6],"y":[2.46664604339963e-215,0.434587439781288,0.0396017765922322,0.0497499468855812,0.228158130593619],"text":["text_label: Categoria:Causal 3<br>%: 0%","text_label: Categoria:3.25-35<br>%: 43%","text_label: Categoria:3.>=28 semanas<br>%: 4%","text_label: Categoria:CENTRO SUR<br>%: 5%","text_label: Categoria:FONASA C/D<br>%: 23%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(4)","legendgroup":"Pr(4)","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.204800543313525,0],"x":[2,4,6],"y":[0.108825800379701,0.0860022420459074,0.00512068579540664],"text":["text_label: Categoria:4.>=35<br>%: 11%","text_label: Categoria:NORTE<br>%: 9%","text_label: Categoria:NINGUNA<br>%: 1%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(5)","legendgroup":"Pr(5)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.0510062643925688,0],"x":[2,4,6],"y":[0.314190387118449,0.214686034039181,0.0816699611900761],"text":["text_label: Categoria:4.>=35<br>%: 31%","text_label: Categoria:NORTE<br>%: 21%","text_label: Categoria:NINGUNA<br>%: 8%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(5)","legendgroup":"Pr(5)","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.189361221790613,0],"x":[2,4,6],"y":[0.305994176331993,0.0948451896393115,0.00365699606422276],"text":["text_label: Categoria:4.>=35<br>%: 31%","text_label: Categoria:NORTE<br>%: 9%","text_label: Categoria:NINGUNA<br>%: 0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(5)","legendgroup":"Pr(5)","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.0384998372684993,0],"x":[2,4,6],"y":[0.15087452838513,0.295724786842981,0.279531375193231],"text":["text_label: Categoria:4.>=35<br>%: 15%","text_label: Categoria:NORTE<br>%: 30%","text_label: Categoria:NINGUNA<br>%: 28%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(5)","legendgroup":"Pr(5)","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.066002760396522,0],"x":[2,4,6],"y":[0.526152023409543,0.0700322225682764,0.00906664164223762],"text":["text_label: Categoria:4.>=35<br>%: 53%","text_label: Categoria:NORTE<br>%: 7%","text_label: Categoria:NINGUNA<br>%: 1%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(5)","legendgroup":"Pr(5)","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.204800543313525],"text":"text_label: Categoria:SUR<br>%: 20%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(6)","legendgroup":"Pr(6)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.0510062643925688],"text":"text_label: Categoria:SUR<br>%: 5%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(6)","legendgroup":"Pr(6)","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.189361221790613],"text":"text_label: Categoria:SUR<br>%: 19%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(6)","legendgroup":"Pr(6)","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.0384998372684993],"text":"text_label: Categoria:SUR<br>%: 4%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(6)","legendgroup":"Pr(6)","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.066002760396522],"text":"text_label: Categoria:SUR<br>%: 7%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pr(6)","legendgroup":"Pr(6)","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":37.9178082191781,"r":18.9954337899543,"b":25.5707762557078,"l":25.5707762557078},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,6.6],"tickmode":"array","ticktext":["CAUSAL","EDAD_MUJER_REC","HITO1_EDAD_GEST_SEM_REC","MACROZONA","PAIS_ORIGEN_REC","PREV_TRAMO_REC"],"tickvals":[1,2,3,4,5,6],"categoryorder":"array","categoryarray":["CAUSAL","EDAD_MUJER_REC","HITO1_EDAD_GEST_SEM_REC","MACROZONA","PAIS_ORIGEN_REC","PREV_TRAMO_REC"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-30,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y5","title":"","hoverformat":".2f","showticklabel":true},"yaxis":{"domain":[0.805707762557078,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.0500000000000002,1.05],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"annotations":[{"text":"Porcentaje de probabilidad de respuesta","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-7.30593607305936},{"text":"class 1: ","x":1,"y":0.902853881278539,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"class 2: ","x":1,"y":0.7,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"class 3: ","x":1,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"class 4: ","x":1,"y":0.3,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"class 5: ","x":1,"y":0.0971461187214612,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"}],"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.805707762557078,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.805707762557078,"y1":1,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.605707762557078,"y1":0.794292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.605707762557078,"y1":0.794292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.405707762557078,"y1":0.594292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.405707762557078,"y1":0.594292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.205707762557078,"y1":0.394292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.205707762557078,"y1":0.394292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":0.194292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0,"y1":0.194292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":false,"range":[-0.0500000000000002,1.05],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0.605707762557078,0.794292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[-0.0500000000000002,1.05],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0.405707762557078,0.594292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[-0.0500000000000002,1.05],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0.205707762557078,0.394292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis5":{"type":"linear","autorange":false,"range":[-0.0500000000000002,1.05],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0,0.194292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Cateorías de<br />Respuesta","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative","height":600,"width":800},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"4318707c6297":{"x":{},"y":{},"fill":{},"label":{},"type":"bar"}},"cur_data":"4318707c6297","visdat":{"4318707c6297":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>zp1_tab<span class="ot">&lt;-</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>lcmodel <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Var1, L2, CATEGORIA, pr, value) <span class="sc">%&gt;%</span> </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">id_cols =</span><span class="fu">c</span>(L2,pr,CATEGORIA), <span class="at">names_from =</span> Var1, <span class="at">values_from=</span>value) <span class="sc">%&gt;%</span> </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">contains</span>(<span class="st">"class"</span>),<span class="sc">~</span> <span class="fu">sprintf</span>(<span class="st">"%01.1f"</span>,.<span class="sc">*</span><span class="dv">100</span>)))</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>zp2_tab<span class="ot">&lt;-</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>lcmodel_adj <span class="sc">%&gt;%</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Var1, L2, CATEGORIA, pr, value) <span class="sc">%&gt;%</span> </span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">id_cols =</span><span class="fu">c</span>(L2,pr,CATEGORIA),  <span class="at">names_from =</span> Var1, <span class="at">values_from=</span>value) <span class="sc">%&gt;%</span> </span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">contains</span>(<span class="st">"class"</span>),<span class="sc">~</span> <span class="fu">sprintf</span>(<span class="st">"%01.1f"</span>,.<span class="sc">*</span><span class="dv">100</span>)))</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co">#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co">#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>  rio<span class="sc">::</span><span class="fu">export</span>(<span class="fu">list</span>(<span class="at">zp1 =</span> zp1_tab, </span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">zp2_zp1_adj =</span> zp2_tab), <span class="st">"tab_mod_dist_cat.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="regresión-logística-polca" class="level2">
<h2 class="anchored" data-anchor-id="regresión-logística-polca">Regresión logística (poLCA)</h2>
<p>Antes, ver relación con resultado de aquellos clasificados en una clase.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind.data.frame</span>(mydata_preds3,LCA_best_model_mod<span class="sc">$</span>predclass) <span class="sc">%&gt;%</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">tabyl</span>(outcome, <span class="st">`</span><span class="at">LCA_best_model_mod$predclass</span><span class="st">`</span>)<span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">adorn_percentages</span>(<span class="st">"col"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate_if</span>(is.numeric, <span class="sc">~</span>scales<span class="sc">::</span><span class="fu">percent</span>(., <span class="at">accuracy=</span><span class="fl">0.1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> outcome     1     2     3     4     5
       0  6.2%  7.4% 15.1% 20.9%  8.2%
       1 93.8% 92.6% 84.9% 79.1% 91.8%</code></pre>
</div>
</div>
<p>Con resultado distal</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df_model_LCA2 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"prob_c"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>() <span class="sc">%&gt;%</span> data.table<span class="sc">::</span><span class="fu">data.table</span>(<span class="at">keep.rownames=</span>T) <span class="sc">%&gt;%</span> </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">rn=</span><span class="fu">gsub</span>(<span class="st">"prob_c"</span>,<span class="st">""</span>,rn)) <span class="sc">%&gt;%</span> </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="st">"markdown"</span>, <span class="at">caption=</span><span class="st">"Probabilidad de pertenecer a una clase, según interrupción del embarazo"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Clase"</span>,<span class="st">"No interrumpe"</span>, <span class="st">"Interrumpe"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Probabilidad de pertenecer a una clase, según interrupción del embarazo</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Clase</th>
<th style="text-align: left;">No interrumpe</th>
<th style="text-align: left;">Interrumpe</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">0.19(95%CI=0.16,0.23)</td>
<td style="text-align: left;">0.18(95%CI=0.17,0.19)</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">0.18(95%CI=0.15,0.21)</td>
<td style="text-align: left;">0.15(95%CI=0.14,0.17)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">0.3(95%CI=0.26,0.33)</td>
<td style="text-align: left;">0.39(95%CI=0.37,0.4)</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">0.16(95%CI=0.13,0.19)</td>
<td style="text-align: left;">0.13(95%CI=0.12,0.14)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">0.17(95%CI=0.15,0.21)</td>
<td style="text-align: left;">0.15(95%CI=0.14,0.17)</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="análisis-de-clases-latentes-selección-de-clases-modelo-alternativo-sin-pueblo-originario-y-año-búsqueda-de-clases-análisis-secundario" class="level1">
<h1>Análisis de clases latentes, selección de clases, modelo alternativo, sin pueblo originario y año Búsqueda de clases, Análisis secundario</h1>
<section id="medidas-de-ajuste-polca-y-glca-combinados" class="level2">
<h2 class="anchored" data-anchor-id="medidas-de-ajuste-polca-y-glca-combinados">Medidas de ajuste poLCA y glca, combinados</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"data2_lca3_glca_sin_po_ano.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="controlly">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#rm(list = ls());gc()</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>tab_ppio <span class="sc">%&gt;%</span><span class="co">#</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(ModelIndex, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate_if</span>(is.character, as.numeric) <span class="sc">%&gt;%</span> </span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind.data.frame</span>(dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">data.frame</span>(bootlrt<span class="sc">$</span>gtable), BIC, entropy, Gsq, Boot.p.value)) <span class="sc">%&gt;%</span> </span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate_if</span>(is.numeric, <span class="sc">~</span><span class="fu">round</span>(.,<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(model_index, bic, a_bic, bic, bic_2, rel_ent, ent_r2, entropy, gsq_2, boot_p_value) <span class="ot">-&gt;</span> tab_fit1</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>tab_fit1 <span class="sc">%&gt;%</span> </span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># convert character columns to numeric</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">format=</span><span class="st">"markdown"</span>, <span class="at">caption=</span><span class="st">"Medidas de ajuste (dividir por 1000 gsq_2)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Medidas de ajuste (dividir por 1000 gsq_2)</caption>
<colgroup>
<col style="width: 14%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">model_index</th>
<th style="text-align: right;">bic</th>
<th style="text-align: right;">a_bic</th>
<th style="text-align: right;">bic_2</th>
<th style="text-align: right;">rel_ent</th>
<th style="text-align: right;">ent_r2</th>
<th style="text-align: right;">entropy</th>
<th style="text-align: right;">gsq_2</th>
<th style="text-align: right;">boot_p_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">45819.78</td>
<td style="text-align: right;">45683.15</td>
<td style="text-align: right;">45803.30</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">0.98</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">2678.89</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: right;">45568.50</td>
<td style="text-align: right;">45361.96</td>
<td style="text-align: right;">45543.78</td>
<td style="text-align: right;">0.91</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">0.91</td>
<td style="text-align: right;">2246.33</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: right;">45399.87</td>
<td style="text-align: right;">45123.42</td>
<td style="text-align: right;">45366.91</td>
<td style="text-align: right;">0.90</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">0.90</td>
<td style="text-align: right;">1896.42</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: right;">45317.18</td>
<td style="text-align: right;">44970.83</td>
<td style="text-align: right;">45275.98</td>
<td style="text-align: right;">0.91</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">0.91</td>
<td style="text-align: right;">1632.46</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">6</td>
<td style="text-align: right;">45386.28</td>
<td style="text-align: right;">44970.02</td>
<td style="text-align: right;">45336.84</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0.80</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">1520.28</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">7</td>
<td style="text-align: right;">45478.47</td>
<td style="text-align: right;">44992.30</td>
<td style="text-align: right;">45420.79</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">1431.19</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">8</td>
<td style="text-align: right;">45591.83</td>
<td style="text-align: right;">45035.76</td>
<td style="text-align: right;">45525.91</td>
<td style="text-align: right;">0.79</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">0.79</td>
<td style="text-align: right;">1363.28</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">9</td>
<td style="text-align: right;">45703.82</td>
<td style="text-align: right;">45077.85</td>
<td style="text-align: right;">45629.66</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">0.73</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">1293.99</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">10</td>
<td style="text-align: right;">45820.84</td>
<td style="text-align: right;">45124.96</td>
<td style="text-align: right;">45738.44</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">0.72</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">1229.74</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="controlly">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>tab_ppio2 <span class="sc">%&gt;%</span><span class="co">#</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(ModelIndex, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate_if</span>(is.character, as.numeric) <span class="sc">%&gt;%</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind.data.frame</span>(dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">data.frame</span>(bootlrt2<span class="sc">$</span>gtable), BIC, entropy, Gsq, Boot.p.value)) <span class="sc">%&gt;%</span> </span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate_if</span>(is.numeric, <span class="sc">~</span><span class="fu">round</span>(.,<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(model_index, bic, a_bic, bic, bic_2, rel_ent, ent_r2, entropy, gsq_2, boot_p_value) <span class="ot">-&gt;</span> tab_fit2</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>tab_fit2 <span class="sc">%&gt;%</span> </span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># convert character columns to numeric</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>    knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">format=</span><span class="st">"markdown"</span>, <span class="at">caption=</span><span class="st">"Medidas de ajuste (ajustado)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Medidas de ajuste (ajustado)</caption>
<colgroup>
<col style="width: 14%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">model_index</th>
<th style="text-align: right;">bic</th>
<th style="text-align: right;">a_bic</th>
<th style="text-align: right;">bic_2</th>
<th style="text-align: right;">rel_ent</th>
<th style="text-align: right;">ent_r2</th>
<th style="text-align: right;">entropy</th>
<th style="text-align: right;">gsq_2</th>
<th style="text-align: right;">boot_p_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">45776.24</td>
<td style="text-align: right;">45636.43</td>
<td style="text-align: right;">45759.76</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">3536.09</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: right;">45481.98</td>
<td style="text-align: right;">45269.09</td>
<td style="text-align: right;">45457.26</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">0.86</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">3052.32</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: right;">45305.93</td>
<td style="text-align: right;">45019.95</td>
<td style="text-align: right;">45272.97</td>
<td style="text-align: right;">0.91</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">0.91</td>
<td style="text-align: right;">2686.74</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: right;">45230.37</td>
<td style="text-align: right;">44871.31</td>
<td style="text-align: right;">45189.17</td>
<td style="text-align: right;">0.92</td>
<td style="text-align: right;">0.90</td>
<td style="text-align: right;">0.92</td>
<td style="text-align: right;">2421.67</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">6</td>
<td style="text-align: right;">45255.46</td>
<td style="text-align: right;">44823.32</td>
<td style="text-align: right;">45195.29</td>
<td style="text-align: right;">0.86</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0.86</td>
<td style="text-align: right;">2246.52</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">7</td>
<td style="text-align: right;">45447.71</td>
<td style="text-align: right;">44942.48</td>
<td style="text-align: right;">45259.35</td>
<td style="text-align: right;">0.88</td>
<td style="text-align: right;">0.84</td>
<td style="text-align: right;">0.85</td>
<td style="text-align: right;">2129.29</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">8</td>
<td style="text-align: right;">45697.24</td>
<td style="text-align: right;">45118.93</td>
<td style="text-align: right;">45333.74</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">2022.41</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">9</td>
<td style="text-align: right;">46281.80</td>
<td style="text-align: right;">45630.41</td>
<td style="text-align: right;">45416.50</td>
<td style="text-align: right;">0.85</td>
<td style="text-align: right;">0.75</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">1923.89</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">10</td>
<td style="text-align: right;">46669.37</td>
<td style="text-align: right;">45944.89</td>
<td style="text-align: right;">45534.20</td>
<td style="text-align: right;">0.95</td>
<td style="text-align: right;">0.91</td>
<td style="text-align: right;">0.74</td>
<td style="text-align: right;">1860.32</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a> rio<span class="sc">::</span><span class="fu">export</span>(<span class="fu">list</span>(<span class="at">sin_ajustar =</span> tab_fit1, </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">ajustado =</span> tab_fit2), <span class="st">"polca_glca_fit_table.xlsx"</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a> <span class="co">#Masyn is talking about normalized entropy above, which ranges from 0 to 1.</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Masyn, K. (2013). Chapter 25 Latent Class Analysis and Finite Mixture Modeling. The Oxford Handbook of Quantitative Methods. D. Little (eds). https://www.statmodel.com/download/Masyn_2013.pdf</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a> <span class="co">#Vermunt, J. K., &amp; Magidson, J. (2016). Technical guide for Latent GOLD 5.1: Basic, advanced, and syntax. Belmont, MA: Statistical Innovations Inc.</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a> <span class="co">#https://www.google.com/url?q=https://www.statisticalinnovations.com/wp-content/uploads/LGtechnical.pdf&amp;sa=D&amp;source=docs&amp;ust=1689531259723207&amp;usg=AOvVaw2N3g_gco8-GUiiPhRQxRoS</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section>
<section id="figuras" class="level2">
<h2 class="anchored" data-anchor-id="figuras">Figuras</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="do">##https://agscl.github.io/IVE/Paso36.html</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(plotly)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplotly(zp3, tooltip = c("text_label"))%&gt;% layout(xaxis= list(showticklabels = T),height=600, width=800)</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>zp3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Paso4_files/figure-html/clasificaciones-no-ajustado-alt-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Distribución de categorías del modelo (alternativo)</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(zp3, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text_label"</span>))<span class="sc">%&gt;%</span> <span class="fu">layout</span>(<span class="at">xaxis=</span> <span class="fu">list</span>(<span class="at">showticklabels =</span> T),<span class="at">height=</span><span class="dv">600</span>, <span class="at">width=</span><span class="dv">800</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Specifying width/height in layout() is now deprecated.
Please specify in ggplotly() or plot_ly()</code></pre>
</div>
<div class="cell-output-display">
<div id="htmlwidget-0b1361145b9644210d51" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-0b1361145b9644210d51">{"x":{"data":[{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.54,0.99,0.96,0.98,1,0.99],"x":[1,2,5,3,4,6],"y":[0.46,0,0.0299999999999999,0.02,0.01,0.01],"text":["text_label: Categoria:Causal 1<br>%: 46.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 3.0%","text_label: Categoria:Perdidos<br>%: 2.0%","text_label: Categoria:Perdidos<br>%: 1.0%","text_label: Categoria:Perdidos<br>%: 1.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.6,1,1,0.97,0.99,1],"x":[1,2,5,3,4,6],"y":[0.4,0.01,0,0.03,0,0],"text":["text_label: Categoria:Causal 1<br>%: 40.0%","text_label: Categoria:Perdidos<br>%: 1.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 3.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"1","legendgroup":"1","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.81,1,1,0.99,1,1],"x":[1,2,5,3,4,6],"y":[0.19,0,0,0.02,0,0],"text":["text_label: Categoria:Causal 1<br>%: 19.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 2.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"1","legendgroup":"1","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.98,0.99,1,0.98,1.01,0.98],"x":[1,2,5,3,4,6],"y":[0.02,0,0,0.02,0.01,0.0299999999999999],"text":["text_label: Categoria:Causal 1<br>%: 2.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 2.0%","text_label: Categoria:Perdidos<br>%: 1.0%","text_label: Categoria:Perdidos<br>%: 3.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"1","legendgroup":"1","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.99,1.01,1,0.99,0.99,1],"x":[1,2,5,3,4,6],"y":[0.01,0,0,0.01,0,0],"text":["text_label: Categoria:Causal 1<br>%: 1.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 1.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"1","legendgroup":"1","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.98,0.92,0.86,0.43,0.98],"x":[1,2,5,3,4,6],"y":[0.54,0.01,0.04,0.12,0.57,0.01],"text":["text_label: Categoria:Causal 2<br>%: 54.0%","text_label: Categoria:1.<18<br>%: 1.0%","text_label: Categoria:Chileno<br>%: 4.0%","text_label: Categoria:1.0-13 semanas<br>%: 12.0%","text_label: Categoria:CENTRO<br>%: 57.0%","text_label: Categoria:ISAPRE y FFAA<br>%: 1.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2","legendgroup":"2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.98,0,0.79,0.67,0.97],"x":[1,2,5,3,4,6],"y":[0.6,0.02,1,0.18,0.32,0.03],"text":["text_label: Categoria:Causal 2<br>%: 60.0%","text_label: Categoria:1.<18<br>%: 2.0%","text_label: Categoria:Chileno<br>%: 100.0%","text_label: Categoria:1.0-13 semanas<br>%: 18.0%","text_label: Categoria:CENTRO<br>%: 32.0%","text_label: Categoria:ISAPRE y FFAA<br>%: 3.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2","legendgroup":"2","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,1,0.07,0.62,0.29,0.19],"x":[1,2,5,3,4,6],"y":[0.81,0,0.93,0.37,0.71,0.81],"text":["text_label: Categoria:Causal 2<br>%: 81.0%","text_label: Categoria:1.<18<br>%: 0.0%","text_label: Categoria:Chileno<br>%: 93.0%","text_label: Categoria:1.0-13 semanas<br>%: 37.0%","text_label: Categoria:CENTRO<br>%: 71.0%","text_label: Categoria:ISAPRE y FFAA<br>%: 81.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2","legendgroup":"2","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.98,0.83,1,0,0.45,0.97],"x":[1,2,5,3,4,6],"y":[0,0.16,0,0.98,0.56,0.01],"text":["text_label: Categoria:Causal 2<br>%: 0.0%","text_label: Categoria:1.<18<br>%: 16.0%","text_label: Categoria:Chileno<br>%: 0.0%","text_label: Categoria:1.0-13 semanas<br>%: 98.0%","text_label: Categoria:CENTRO<br>%: 56.0%","text_label: Categoria:ISAPRE y FFAA<br>%: 1.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2","legendgroup":"2","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.99,0.66,0.01,0,0.61,0.93],"x":[1,2,5,3,4,6],"y":[0,0.35,0.99,0.99,0.38,0.0700000000000001],"text":["text_label: Categoria:Causal 2<br>%: 0.0%","text_label: Categoria:1.<18<br>%: 35.0%","text_label: Categoria:Chileno<br>%: 99.0%","text_label: Categoria:1.0-13 semanas<br>%: 99.0%","text_label: Categoria:CENTRO<br>%: 38.0%","text_label: Categoria:ISAPRE y FFAA<br>%: 7.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2","legendgroup":"2","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.81,0,0.13,0.32,0.37],"x":[1,2,5,3,4,6],"y":[0,0.17,0.92,0.73,0.11,0.61],"text":["text_label: Categoria:Causal 3<br>%: 0.0%","text_label: Categoria:2.18-24<br>%: 17.0%","text_label: Categoria:Otro<br>%: 92.0%","text_label: Categoria:2.14-27 semanas<br>%: 73.0%","text_label: Categoria:CENTRO NORTE<br>%: 11.0%","text_label: Categoria:FONASA A/B<br>%: 61.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"3","legendgroup":"3","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.77,0,0.13,0.48,0.35],"x":[1,2,5,3,4,6],"y":[0,0.21,0,0.66,0.19,0.62],"text":["text_label: Categoria:Causal 3<br>%: 0.0%","text_label: Categoria:2.18-24<br>%: 21.0%","text_label: Categoria:Otro<br>%: 0.0%","text_label: Categoria:2.14-27 semanas<br>%: 66.0%","text_label: Categoria:CENTRO NORTE<br>%: 19.0%","text_label: Categoria:FONASA A/B<br>%: 62.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"3","legendgroup":"3","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.96,0,0.05,0.2,0.19],"x":[1,2,5,3,4,6],"y":[0,0.04,0.07,0.57,0.09,0],"text":["text_label: Categoria:Causal 3<br>%: 0.0%","text_label: Categoria:2.18-24<br>%: 4.0%","text_label: Categoria:Otro<br>%: 7.0%","text_label: Categoria:2.14-27 semanas<br>%: 57.0%","text_label: Categoria:CENTRO NORTE<br>%: 9.0%","text_label: Categoria:FONASA A/B<br>%: 0.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"3","legendgroup":"3","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.6,0,0,0.36,0.45],"x":[1,2,5,3,4,6],"y":[0.98,0.23,1,0,0.09,0.52],"text":["text_label: Categoria:Causal 3<br>%: 98.0%","text_label: Categoria:2.18-24<br>%: 23.0%","text_label: Categoria:Otro<br>%: 100.0%","text_label: Categoria:2.14-27 semanas<br>%: 0.0%","text_label: Categoria:CENTRO NORTE<br>%: 9.0%","text_label: Categoria:FONASA A/B<br>%: 52.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"3","legendgroup":"3","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.41,0,0,0.44,0.21],"x":[1,2,5,3,4,6],"y":[0.99,0.25,0.01,0,0.17,0.72],"text":["text_label: Categoria:Causal 3<br>%: 99.0%","text_label: Categoria:2.18-24<br>%: 25.0%","text_label: Categoria:Otro<br>%: 1.0%","text_label: Categoria:2.14-27 semanas<br>%: 0.0%","text_label: Categoria:CENTRO NORTE<br>%: 17.0%","text_label: Categoria:FONASA A/B<br>%: 72.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"3","legendgroup":"3","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9],"base":[0.31,0,0.26,0.08],"x":[2,3,4,6],"y":[0.5,0.13,0.06,0.29],"text":["text_label: Categoria:3.25-35<br>%: 50.0%","text_label: Categoria:3.>=28 semanas<br>%: 13.0%","text_label: Categoria:CENTRO SUR<br>%: 6.0%","text_label: Categoria:FONASA C/D<br>%: 29.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"4","legendgroup":"4","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9],"base":[0.31,0,0.28,0],"x":[2,3,4,6],"y":[0.46,0.13,0.2,0.35],"text":["text_label: Categoria:3.25-35<br>%: 46.0%","text_label: Categoria:3.>=28 semanas<br>%: 13.0%","text_label: Categoria:CENTRO SUR<br>%: 20.0%","text_label: Categoria:FONASA C/D<br>%: 35.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"4","legendgroup":"4","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9],"base":[0.53,0,0.14,0.01],"x":[2,3,4,6],"y":[0.43,0.05,0.06,0.18],"text":["text_label: Categoria:3.25-35<br>%: 43.0%","text_label: Categoria:3.>=28 semanas<br>%: 5.0%","text_label: Categoria:CENTRO SUR<br>%: 6.0%","text_label: Categoria:FONASA C/D<br>%: 18.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"4","legendgroup":"4","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9],"base":[0.15,0,0.34,0.28],"x":[2,3,4,6],"y":[0.45,0,0.02,0.17],"text":["text_label: Categoria:3.25-35<br>%: 45.0%","text_label: Categoria:3.>=28 semanas<br>%: 0.0%","text_label: Categoria:CENTRO SUR<br>%: 2.0%","text_label: Categoria:FONASA C/D<br>%: 17.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"4","legendgroup":"4","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9],"base":[0.11,0,0.29,0.01],"x":[2,3,4,6],"y":[0.3,0,0.15,0.2],"text":["text_label: Categoria:3.25-35<br>%: 30.0%","text_label: Categoria:3.>=28 semanas<br>%: 0.0%","text_label: Categoria:CENTRO SUR<br>%: 15.0%","text_label: Categoria:FONASA C/D<br>%: 20.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"4","legendgroup":"4","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.05,0],"x":[2,4,6],"y":[0.31,0.21,0.08],"text":["text_label: Categoria:4.>=35<br>%: 31.0%","text_label: Categoria:NORTE<br>%: 21.0%","text_label: Categoria:NINGUNA<br>%: 8.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"5","legendgroup":"5","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.19,0],"x":[2,4,6],"y":[0.31,0.09,0],"text":["text_label: Categoria:4.>=35<br>%: 31.0%","text_label: Categoria:NORTE<br>%: 9.0%","text_label: Categoria:NINGUNA<br>%: 0.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"5","legendgroup":"5","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.07,0],"x":[2,4,6],"y":[0.53,0.07,0.01],"text":["text_label: Categoria:4.>=35<br>%: 53.0%","text_label: Categoria:NORTE<br>%: 7.0%","text_label: Categoria:NINGUNA<br>%: 1.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"5","legendgroup":"5","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.04,0],"x":[2,4,6],"y":[0.15,0.3,0.28],"text":["text_label: Categoria:4.>=35<br>%: 15.0%","text_label: Categoria:NORTE<br>%: 30.0%","text_label: Categoria:NINGUNA<br>%: 28.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"5","legendgroup":"5","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.2,0],"x":[2,4,6],"y":[0.11,0.09,0.01],"text":["text_label: Categoria:4.>=35<br>%: 11.0%","text_label: Categoria:NORTE<br>%: 9.0%","text_label: Categoria:NINGUNA<br>%: 1.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"5","legendgroup":"5","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.05],"text":"text_label: Categoria:SUR<br>%: 5.0%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"6","legendgroup":"6","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.19],"text":"text_label: Categoria:SUR<br>%: 19.0%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"6","legendgroup":"6","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.07],"text":"text_label: Categoria:SUR<br>%: 7.0%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"6","legendgroup":"6","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.04],"text":"text_label: Categoria:SUR<br>%: 4.0%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"6","legendgroup":"6","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.2],"text":"text_label: Categoria:SUR<br>%: 20.0%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"6","legendgroup":"6","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":37.9178082191781,"r":18.9954337899543,"b":25.5707762557078,"l":25.5707762557078},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,6.6],"tickmode":"array","ticktext":["CAUSAL","EDAD_MUJER_REC","HITO1_EDAD_GEST_SEM_REC","MACROZONA","PAIS_ORIGEN_REC","PREV_TRAMO_REC"],"tickvals":[1,2,3,4,5,6],"categoryorder":"array","categoryarray":["CAUSAL","EDAD_MUJER_REC","HITO1_EDAD_GEST_SEM_REC","MACROZONA","PAIS_ORIGEN_REC","PREV_TRAMO_REC"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-30,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y5","title":"","hoverformat":".2f"},"yaxis":{"domain":[0.805707762557078,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.051,1.071],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"annotations":[{"text":"Porcentaje de probabilidad de respuesta","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-7.30593607305936},{"text":"Class1","x":1,"y":0.902853881278539,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Class2","x":1,"y":0.7,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Class3","x":1,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Class4","x":1,"y":0.3,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Class5","x":1,"y":0.0971461187214612,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"}],"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.805707762557078,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.805707762557078,"y1":1,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.605707762557078,"y1":0.794292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.605707762557078,"y1":0.794292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.405707762557078,"y1":0.594292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.405707762557078,"y1":0.594292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.205707762557078,"y1":0.394292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.205707762557078,"y1":0.394292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":0.194292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0,"y1":0.194292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":false,"range":[-0.051,1.071],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0.605707762557078,0.794292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[-0.051,1.071],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0.405707762557078,0.594292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[-0.051,1.071],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0.205707762557078,0.394292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis5":{"type":"linear","autorange":false,"range":[-0.051,1.071],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0,0.194292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Cateorías de<br />Respuesta","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative","height":600,"width":800},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"4318286c79f7":{"x":{},"y":{},"fill":{},"label":{},"type":"bar"}},"cur_data":"4318286c79f7","visdat":{"4318286c79f7":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplotly(zp4, tooltip = c("text_label"))%&gt;% layout(xaxis= list(showticklabels = T),height=600, width=800)</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>zp4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Paso4_files/figure-html/clasificaciones-res-distal-alt-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Distribución de categorías del modelo ajustado (alternativo)</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(zp4, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text_label"</span>))<span class="sc">%&gt;%</span> <span class="fu">layout</span>(<span class="at">xaxis=</span> <span class="fu">list</span>(<span class="at">showticklabels =</span> T),<span class="at">height=</span><span class="dv">600</span>, <span class="at">width=</span><span class="dv">800</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Specifying width/height in layout() is now deprecated.
Please specify in ggplotly() or plot_ly()</code></pre>
</div>
<div class="cell-output-display">
<div id="htmlwidget-1ed744fc89cb5f2b9787" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1ed744fc89cb5f2b9787">{"x":{"data":[{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.54,0.99,0.99,0.98,1,0.99],"x":[1,2,5,3,4,6],"y":[0.46,0,0.01,0.02,0,0.01],"text":["text_label: Categoria:Causal 1<br>%: 46.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 1.0%","text_label: Categoria:Perdidos<br>%: 2.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 1.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.59,1,0.99,0.97,0.99,1],"x":[1,2,5,3,4,6],"y":[0.41,0.01,0.01,0.0299999999999999,0,0],"text":["text_label: Categoria:Causal 1<br>%: 41.0%","text_label: Categoria:Perdidos<br>%: 1.0%","text_label: Categoria:Perdidos<br>%: 1.0%","text_label: Categoria:Perdidos<br>%: 3.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"1","legendgroup":"1","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.8,1,1,0.98,1,1],"x":[1,2,5,3,4,6],"y":[0.2,0,0,0.02,0,0],"text":["text_label: Categoria:Causal 1<br>%: 20.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 2.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"1","legendgroup":"1","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.98,0.99,1,0.98,1.01,0.98],"x":[1,2,5,3,4,6],"y":[0.02,0,0,0.02,0.01,0.0299999999999999],"text":["text_label: Categoria:Causal 1<br>%: 2.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 2.0%","text_label: Categoria:Perdidos<br>%: 1.0%","text_label: Categoria:Perdidos<br>%: 3.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"1","legendgroup":"1","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[1,1.01,1,0.99,1,1],"x":[1,2,5,3,4,6],"y":[0,0,0,0.01,0,0],"text":["text_label: Categoria:Causal 1<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 1.0%","text_label: Categoria:Perdidos<br>%: 0.0%","text_label: Categoria:Perdidos<br>%: 0.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,247,247,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"1","legendgroup":"1","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.98,0.99,0.87,0.43,0.99],"x":[1,2,5,3,4,6],"y":[0.54,0.01,0,0.11,0.57,0],"text":["text_label: Categoria:Causal 2<br>%: 54.0%","text_label: Categoria:1.<18<br>%: 1.0%","text_label: Categoria:Chileno<br>%: 0.0%","text_label: Categoria:1.0-13 semanas<br>%: 11.0%","text_label: Categoria:CENTRO<br>%: 57.0%","text_label: Categoria:ISAPRE y FFAA<br>%: 0.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2","legendgroup":"2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.98,0,0.8,0.67,0.97],"x":[1,2,5,3,4,6],"y":[0.59,0.02,0.99,0.17,0.32,0.03],"text":["text_label: Categoria:Causal 2<br>%: 59.0%","text_label: Categoria:1.<18<br>%: 2.0%","text_label: Categoria:Chileno<br>%: 99.0%","text_label: Categoria:1.0-13 semanas<br>%: 17.0%","text_label: Categoria:CENTRO<br>%: 32.0%","text_label: Categoria:ISAPRE y FFAA<br>%: 3.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2","legendgroup":"2","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,1,0.09,0.61,0.28,0.24],"x":[1,2,5,3,4,6],"y":[0.8,0,0.91,0.37,0.72,0.76],"text":["text_label: Categoria:Causal 2<br>%: 80.0%","text_label: Categoria:1.<18<br>%: 0.0%","text_label: Categoria:Chileno<br>%: 91.0%","text_label: Categoria:1.0-13 semanas<br>%: 37.0%","text_label: Categoria:CENTRO<br>%: 72.0%","text_label: Categoria:ISAPRE y FFAA<br>%: 76.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2","legendgroup":"2","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0.98,0.83,1,0,0.45,0.97],"x":[1,2,5,3,4,6],"y":[0,0.16,0,0.98,0.56,0.01],"text":["text_label: Categoria:Causal 2<br>%: 0.0%","text_label: Categoria:1.<18<br>%: 16.0%","text_label: Categoria:Chileno<br>%: 0.0%","text_label: Categoria:1.0-13 semanas<br>%: 98.0%","text_label: Categoria:CENTRO<br>%: 56.0%","text_label: Categoria:ISAPRE y FFAA<br>%: 1.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2","legendgroup":"2","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[1,0.66,0.01,0,0.62,0.93],"x":[1,2,5,3,4,6],"y":[0,0.35,0.99,0.99,0.38,0.0700000000000001],"text":["text_label: Categoria:Causal 2<br>%: 0.0%","text_label: Categoria:1.<18<br>%: 35.0%","text_label: Categoria:Chileno<br>%: 99.0%","text_label: Categoria:1.0-13 semanas<br>%: 99.0%","text_label: Categoria:CENTRO<br>%: 38.0%","text_label: Categoria:ISAPRE y FFAA<br>%: 7.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(217,217,217,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"2","legendgroup":"2","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.81,0,0.13,0.32,0.36],"x":[1,2,5,3,4,6],"y":[0,0.17,0.99,0.74,0.11,0.63],"text":["text_label: Categoria:Causal 3<br>%: 0.0%","text_label: Categoria:2.18-24<br>%: 17.0%","text_label: Categoria:Otro<br>%: 99.0%","text_label: Categoria:2.14-27 semanas<br>%: 74.0%","text_label: Categoria:CENTRO NORTE<br>%: 11.0%","text_label: Categoria:FONASA A/B<br>%: 63.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"3","legendgroup":"3","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.77,0,0.14,0.48,0.34],"x":[1,2,5,3,4,6],"y":[0,0.21,0,0.66,0.19,0.63],"text":["text_label: Categoria:Causal 3<br>%: 0.0%","text_label: Categoria:2.18-24<br>%: 21.0%","text_label: Categoria:Otro<br>%: 0.0%","text_label: Categoria:2.14-27 semanas<br>%: 66.0%","text_label: Categoria:CENTRO NORTE<br>%: 19.0%","text_label: Categoria:FONASA A/B<br>%: 63.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"3","legendgroup":"3","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.96,0,0.04,0.19,0.24],"x":[1,2,5,3,4,6],"y":[0,0.04,0.09,0.57,0.09,0],"text":["text_label: Categoria:Causal 3<br>%: 0.0%","text_label: Categoria:2.18-24<br>%: 4.0%","text_label: Categoria:Otro<br>%: 9.0%","text_label: Categoria:2.14-27 semanas<br>%: 57.0%","text_label: Categoria:CENTRO NORTE<br>%: 9.0%","text_label: Categoria:FONASA A/B<br>%: 0.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"3","legendgroup":"3","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.6,0,0,0.36,0.45],"x":[1,2,5,3,4,6],"y":[0.98,0.23,1,0,0.09,0.52],"text":["text_label: Categoria:Causal 3<br>%: 98.0%","text_label: Categoria:2.18-24<br>%: 23.0%","text_label: Categoria:Otro<br>%: 100.0%","text_label: Categoria:2.14-27 semanas<br>%: 0.0%","text_label: Categoria:CENTRO NORTE<br>%: 9.0%","text_label: Categoria:FONASA A/B<br>%: 52.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"3","legendgroup":"3","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0.41,0,0,0.44,0.21],"x":[1,2,5,3,4,6],"y":[1,0.25,0.01,0,0.18,0.72],"text":["text_label: Categoria:Causal 3<br>%: 100.0%","text_label: Categoria:2.18-24<br>%: 25.0%","text_label: Categoria:Otro<br>%: 1.0%","text_label: Categoria:2.14-27 semanas<br>%: 0.0%","text_label: Categoria:CENTRO NORTE<br>%: 18.0%","text_label: Categoria:FONASA A/B<br>%: 72.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(189,189,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"3","legendgroup":"3","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9],"base":[0.31,0,0.26,0.08],"x":[2,3,4,6],"y":[0.5,0.13,0.06,0.28],"text":["text_label: Categoria:3.25-35<br>%: 50.0%","text_label: Categoria:3.>=28 semanas<br>%: 13.0%","text_label: Categoria:CENTRO SUR<br>%: 6.0%","text_label: Categoria:FONASA C/D<br>%: 28.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"4","legendgroup":"4","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9],"base":[0.31,0,0.28,0],"x":[2,3,4,6],"y":[0.46,0.14,0.2,0.34],"text":["text_label: Categoria:3.25-35<br>%: 46.0%","text_label: Categoria:3.>=28 semanas<br>%: 14.0%","text_label: Categoria:CENTRO SUR<br>%: 20.0%","text_label: Categoria:FONASA C/D<br>%: 34.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"4","legendgroup":"4","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9],"base":[0.53,0,0.14,0.01],"x":[2,3,4,6],"y":[0.43,0.04,0.05,0.23],"text":["text_label: Categoria:3.25-35<br>%: 43.0%","text_label: Categoria:3.>=28 semanas<br>%: 4.0%","text_label: Categoria:CENTRO SUR<br>%: 5.0%","text_label: Categoria:FONASA C/D<br>%: 23.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"4","legendgroup":"4","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9],"base":[0.15,0,0.34,0.28],"x":[2,3,4,6],"y":[0.45,0,0.02,0.17],"text":["text_label: Categoria:3.25-35<br>%: 45.0%","text_label: Categoria:3.>=28 semanas<br>%: 0.0%","text_label: Categoria:CENTRO SUR<br>%: 2.0%","text_label: Categoria:FONASA C/D<br>%: 17.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"4","legendgroup":"4","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9],"base":[0.11,0,0.29,0.01],"x":[2,3,4,6],"y":[0.3,0,0.15,0.2],"text":["text_label: Categoria:3.25-35<br>%: 30.0%","text_label: Categoria:3.>=28 semanas<br>%: 0.0%","text_label: Categoria:CENTRO SUR<br>%: 15.0%","text_label: Categoria:FONASA C/D<br>%: 20.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(150,150,150,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"4","legendgroup":"4","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.05,0],"x":[2,4,6],"y":[0.31,0.21,0.08],"text":["text_label: Categoria:4.>=35<br>%: 31.0%","text_label: Categoria:NORTE<br>%: 21.0%","text_label: Categoria:NINGUNA<br>%: 8.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"5","legendgroup":"5","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.19,0],"x":[2,4,6],"y":[0.31,0.09,0],"text":["text_label: Categoria:4.>=35<br>%: 31.0%","text_label: Categoria:NORTE<br>%: 9.0%","text_label: Categoria:NINGUNA<br>%: 0.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"5","legendgroup":"5","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.07,0],"x":[2,4,6],"y":[0.53,0.07,0.01],"text":["text_label: Categoria:4.>=35<br>%: 53.0%","text_label: Categoria:NORTE<br>%: 7.0%","text_label: Categoria:NINGUNA<br>%: 1.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"5","legendgroup":"5","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.04,0],"x":[2,4,6],"y":[0.15,0.3,0.28],"text":["text_label: Categoria:4.>=35<br>%: 15.0%","text_label: Categoria:NORTE<br>%: 30.0%","text_label: Categoria:NINGUNA<br>%: 28.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"5","legendgroup":"5","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9],"base":[0,0.2,0],"x":[2,4,6],"y":[0.11,0.09,0.01],"text":["text_label: Categoria:4.>=35<br>%: 11.0%","text_label: Categoria:NORTE<br>%: 9.0%","text_label: Categoria:NINGUNA<br>%: 1.0%"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(99,99,99,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"5","legendgroup":"5","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.05],"text":"text_label: Categoria:SUR<br>%: 5.0%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"6","legendgroup":"6","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.19],"text":"text_label: Categoria:SUR<br>%: 19.0%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"6","legendgroup":"6","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.07],"text":"text_label: Categoria:SUR<br>%: 7.0%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"6","legendgroup":"6","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.04],"text":"text_label: Categoria:SUR<br>%: 4.0%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"6","legendgroup":"6","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[0.2],"text":"text_label: Categoria:SUR<br>%: 20.0%","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(37,37,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"6","legendgroup":"6","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":37.9178082191781,"r":18.9954337899543,"b":25.5707762557078,"l":25.5707762557078},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,6.6],"tickmode":"array","ticktext":["CAUSAL","EDAD_MUJER_REC","HITO1_EDAD_GEST_SEM_REC","MACROZONA","PAIS_ORIGEN_REC","PREV_TRAMO_REC"],"tickvals":[1,2,3,4,5,6],"categoryorder":"array","categoryarray":["CAUSAL","EDAD_MUJER_REC","HITO1_EDAD_GEST_SEM_REC","MACROZONA","PAIS_ORIGEN_REC","PREV_TRAMO_REC"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-30,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y5","title":"","hoverformat":".2f"},"yaxis":{"domain":[0.805707762557078,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.051,1.071],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"annotations":[{"text":"Porcentaje de probabilidad de respuesta","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-7.30593607305936},{"text":"Class1","x":1,"y":0.902853881278539,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Class2","x":1,"y":0.7,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Class3","x":1,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Class4","x":1,"y":0.3,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Class5","x":1,"y":0.0971461187214612,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"}],"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.805707762557078,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.805707762557078,"y1":1,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.605707762557078,"y1":0.794292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.605707762557078,"y1":0.794292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.405707762557078,"y1":0.594292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.405707762557078,"y1":0.594292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.205707762557078,"y1":0.394292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.205707762557078,"y1":0.394292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":0.194292237442922},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0,"y1":0.194292237442922,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":false,"range":[-0.051,1.071],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0.605707762557078,0.794292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[-0.051,1.071],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0.405707762557078,0.594292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[-0.051,1.071],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0.205707762557078,0.394292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis5":{"type":"linear","autorange":false,"range":[-0.051,1.071],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"domain":[0,0.194292237442922],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Cateorías de<br />Respuesta","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative","height":600,"width":800},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"431838767693":{"x":{},"y":{},"fill":{},"label":{},"type":"bar"}},"cur_data":"431838767693","visdat":{"431838767693":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="regresión-logística-no-distal" class="level2">
<h2 class="anchored" data-anchor-id="regresión-logística-no-distal">Regresión logística (no distal)</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co"># average_posterior_probability &lt;- mean(poLCA.posterior(LCA_best_model_mod, LCA_best_model_mod$predclass))</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># table(LCA_best_model_mod$predclass)</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="co"># table(posterior_glca_05_final$final_05)</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co"># table(posterior_glca_05_final$final_05,car::recode(posterior_glca_05_final$final_05,"4=1;3=2;3=3;2=4;5=5;NA=NA"))</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a><span class="co"># posterior_glca_07_final %&gt;% </span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a><span class="co">#     rowwise() %&gt;%</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     mutate(count_ones = sum(c_across(starts_with("Class")) == 1)) %&gt;%</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a><span class="co">#     ungroup() %&gt;% </span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="co">#     janitor::tabyl(final_07,count_ones)</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>mat<span class="ot">&lt;-</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind.data.frame</span>(LCA_best_model_mod<span class="sc">$</span>posterior, <span class="at">y=</span>LCA_best_model_mod<span class="sc">$</span>predclass) <span class="sc">%&gt;%</span> </span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">group_by</span>(y) <span class="sc">%&gt;%</span> </span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="st">`</span><span class="at">1</span><span class="st">`</span><span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">1</span><span class="st">`</span>), <span class="st">`</span><span class="at">2</span><span class="st">`</span><span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">2</span><span class="st">`</span>), <span class="st">`</span><span class="at">3</span><span class="st">`</span><span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">3</span><span class="st">`</span>), <span class="st">`</span><span class="at">4</span><span class="st">`</span><span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">4</span><span class="st">`</span>), <span class="st">`</span><span class="at">5</span><span class="st">`</span><span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">5</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">mutate_all</span>(<span class="sc">~</span><span class="fu">round</span>(.,<span class="dv">2</span>))</span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"mean posterior probabilities: "</span>,</span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="fu">diag</span>(<span class="fu">matrix</span>(<span class="fu">unlist</span>(mat), <span class="at">nrow=</span><span class="dv">5</span>)[,<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>]),<span class="at">collapse =</span><span class="st">", "</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "mean posterior probabilities:  0.98, 0.88, 0.98, 0.95, 1"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#_#_#_#_#_#_#_#_#_#_#_</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Classifying by posterior probs.</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>posterior_glca_05_final<span class="ot">&lt;-</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>best_model_glca<span class="sc">$</span>posterior<span class="sc">$</span>ALL <span class="sc">%&gt;%</span> </span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate_all</span>(<span class="sc">~</span><span class="fu">ifelse</span>(.<span class="sc">&gt;</span>.<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">final_05=</span>dplyr<span class="sc">::</span><span class="fu">case_when</span>(<span class="st">`</span><span class="at">Class 1</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">1</span>,<span class="st">`</span><span class="at">Class 2</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">2</span>, <span class="st">`</span><span class="at">Class 3</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">3</span>,<span class="st">`</span><span class="at">Class 4</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">4</span>, <span class="st">`</span><span class="at">Class 5</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">5</span>))</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>posterior_polca_05_final<span class="ot">&lt;-</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>LCA_best_model_mod<span class="sc">$</span>posterior <span class="sc">%&gt;%</span> </span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate_all</span>(<span class="sc">~</span><span class="fu">ifelse</span>(.<span class="sc">&gt;</span>.<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">final_05=</span>dplyr<span class="sc">::</span><span class="fu">case_when</span>(<span class="st">`</span><span class="at">X1</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">1</span>,<span class="st">`</span><span class="at">X2</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">2</span>, <span class="st">`</span><span class="at">X3</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">3</span>,<span class="st">`</span><span class="at">X4</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">4</span>, <span class="st">`</span><span class="at">X5</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">5</span>))</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>posterior_glca_07_final<span class="ot">&lt;-</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>best_model_glca<span class="sc">$</span>posterior<span class="sc">$</span>ALL <span class="sc">%&gt;%</span> </span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate_all</span>(<span class="sc">~</span><span class="fu">ifelse</span>(.<span class="sc">&gt;</span>.<span class="dv">7</span>,<span class="dv">1</span>,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">final_07=</span>dplyr<span class="sc">::</span><span class="fu">case_when</span>(<span class="st">`</span><span class="at">Class 1</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">1</span>,<span class="st">`</span><span class="at">Class 2</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">2</span>, <span class="st">`</span><span class="at">Class 3</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">3</span>,<span class="st">`</span><span class="at">Class 4</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">4</span>, <span class="st">`</span><span class="at">Class 5</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">5</span>))</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>posterior_polca_07_final<span class="ot">&lt;-</span></span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>LCA_best_model_mod<span class="sc">$</span>posterior <span class="sc">%&gt;%</span> </span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate_all</span>(<span class="sc">~</span><span class="fu">ifelse</span>(.<span class="sc">&gt;</span>.<span class="dv">7</span>,<span class="dv">1</span>,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">final_07=</span>dplyr<span class="sc">::</span><span class="fu">case_when</span>(<span class="st">`</span><span class="at">X1</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">1</span>,<span class="st">`</span><span class="at">X2</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">2</span>, <span class="st">`</span><span class="at">X3</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">3</span>,<span class="st">`</span><span class="at">X4</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">4</span>, <span class="st">`</span><span class="at">X5</span><span class="st">`</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">5</span>))</span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a><span class="co">#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_</span></span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a><span class="co">#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_</span></span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a><span class="co">#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_</span></span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>bd_mydata_preds3_posterior<span class="ot">&lt;-</span></span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind.data.frame</span>(mydata_preds3,<span class="at">final_07=</span>posterior_glca_07_final<span class="sc">$</span>final_07,<span class="at">final_05=</span>posterior_glca_05_final<span class="sc">$</span>final_05)<span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">outcome=</span><span class="fu">ifelse</span>(outcome<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>))<span class="sc">%&gt;%</span> </span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">final_07=</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(final_07<span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">3</span>, final_07<span class="sc">==</span><span class="dv">3</span><span class="sc">~</span><span class="dv">1</span>, final_07<span class="sc">==</span><span class="dv">2</span><span class="sc">~</span><span class="dv">4</span>, final_07<span class="sc">==</span><span class="dv">4</span><span class="sc">~</span><span class="dv">2</span>, final_07<span class="sc">==</span><span class="dv">4</span><span class="sc">~</span><span class="dv">1</span>, final_07<span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">4</span>, T<span class="sc">~</span>final_07)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">final_05=</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(final_05<span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">3</span>, final_05<span class="sc">==</span><span class="dv">3</span><span class="sc">~</span><span class="dv">1</span>, final_05<span class="sc">==</span><span class="dv">2</span><span class="sc">~</span><span class="dv">4</span>, final_05<span class="sc">==</span><span class="dv">4</span><span class="sc">~</span><span class="dv">2</span>, final_05<span class="sc">==</span><span class="dv">4</span><span class="sc">~</span><span class="dv">1</span>, final_05<span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">4</span>, T<span class="sc">~</span>final_05))<span class="sc">%&gt;%</span></span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">final_07=</span>car<span class="sc">::</span><span class="fu">recode</span>(final_07,<span class="st">"2=1;1=2"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">final_05=</span>car<span class="sc">::</span><span class="fu">recode</span>(final_05,<span class="st">"2=1;1=2"</span>)) </span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a><span class="co">#janitor::tabyl(final_07) </span></span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a>bd_mydata_preds3_posterior_polca<span class="ot">&lt;-</span></span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind.data.frame</span>(mydata_preds3,<span class="at">final_07=</span>posterior_polca_07_final<span class="sc">$</span>final_07,<span class="at">final_05=</span>posterior_polca_05_final<span class="sc">$</span>final_05)<span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">outcome=</span><span class="fu">ifelse</span>(outcome<span class="sc">==</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">final_07=</span>car<span class="sc">::</span><span class="fu">recode</span>(final_07,<span class="st">"2=1;1=2"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">final_07=</span>car<span class="sc">::</span><span class="fu">recode</span>(final_05,<span class="st">"2=1;1=2"</span>))</span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-43"><a href="#cb45-43" aria-hidden="true" tabindex="-1"></a>bd_reg2<span class="ot">&lt;-</span></span>
<span id="cb45-44"><a href="#cb45-44" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(</span>
<span id="cb45-45"><a href="#cb45-45" aria-hidden="true" tabindex="-1"></a>broom<span class="sc">::</span><span class="fu">tidy</span>(<span class="fu">glm</span>(outcome<span class="sc">~</span> <span class="fu">factor</span>(final_07), <span class="at">data=</span> bd_mydata_preds3_posterior),</span>
<span id="cb45-46"><a href="#cb45-46" aria-hidden="true" tabindex="-1"></a>            <span class="at">exponentiate=</span>T, <span class="at">conf.int =</span> T),</span>
<span id="cb45-47"><a href="#cb45-47" aria-hidden="true" tabindex="-1"></a>broom<span class="sc">::</span><span class="fu">tidy</span>(<span class="fu">glm</span>(outcome<span class="sc">~</span><span class="fu">factor</span>(final_05), <span class="at">data=</span>bd_mydata_preds3_posterior),</span>
<span id="cb45-48"><a href="#cb45-48" aria-hidden="true" tabindex="-1"></a>            <span class="at">exponentiate=</span>T, <span class="at">conf.int =</span> T),</span>
<span id="cb45-49"><a href="#cb45-49" aria-hidden="true" tabindex="-1"></a>broom<span class="sc">::</span><span class="fu">tidy</span>(<span class="fu">glm</span>(outcome<span class="sc">~</span><span class="fu">factor</span>(final_07), <span class="at">data=</span>bd_mydata_preds3_posterior_polca),</span>
<span id="cb45-50"><a href="#cb45-50" aria-hidden="true" tabindex="-1"></a>            <span class="at">exponentiate=</span>T, <span class="at">conf.int =</span> T),</span>
<span id="cb45-51"><a href="#cb45-51" aria-hidden="true" tabindex="-1"></a>broom<span class="sc">::</span><span class="fu">tidy</span>(<span class="fu">glm</span>(outcome<span class="sc">~</span><span class="fu">factor</span>(final_05), <span class="at">data=</span>bd_mydata_preds3_posterior_polca),</span>
<span id="cb45-52"><a href="#cb45-52" aria-hidden="true" tabindex="-1"></a>            <span class="at">exponentiate=</span>T, <span class="at">conf.int =</span> T)</span>
<span id="cb45-53"><a href="#cb45-53" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb45-54"><a href="#cb45-54" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>std.error, <span class="sc">-</span>statistic) <span class="sc">%&gt;%</span> </span>
<span id="cb45-55"><a href="#cb45-55" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">"estimate"</span>,<span class="st">"conf.low"</span>,<span class="st">"conf.high"</span>),<span class="sc">~</span><span class="fu">round</span>(.,<span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb45-56"><a href="#cb45-56" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">"p.value"</span>),<span class="sc">~</span><span class="fu">round</span>(.,<span class="dv">4</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-57"><a href="#cb45-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_column</span>(<span class="at">mod=</span><span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"glca"</span>,<span class="dv">10</span>),<span class="fu">rep</span>(<span class="st">"polca"</span>,<span class="dv">10</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb45-58"><a href="#cb45-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_column</span>(<span class="at">reg=</span><span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"&gt;.7 probs"</span>,<span class="dv">5</span>),<span class="fu">rep</span>(<span class="st">"&gt;.5 probs"</span>,<span class="dv">5</span>),<span class="fu">rep</span>(<span class="st">"&gt;.7 probs"</span>,<span class="dv">5</span>),<span class="fu">rep</span>(<span class="st">"&gt;.5 probs"</span>,<span class="dv">5</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb45-59"><a href="#cb45-59" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(mod, reg, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb45-60"><a href="#cb45-60" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">output=</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">'{estimate} ({conf.low}-{conf.high})'</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-61"><a href="#cb45-61" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(mod, reg, term, output, p.value) </span>
<span id="cb45-62"><a href="#cb45-62" aria-hidden="true" tabindex="-1"></a><span class="co">#cbind.data.frame(mydata_preds3,final_07=posterior_polca_07adj$final_07,final_05=posterior_polca_05adj$final_05) %&gt;% janitor::tabyl(outcome,final_07)</span></span>
<span id="cb45-63"><a href="#cb45-63" aria-hidden="true" tabindex="-1"></a>bd_reg2 <span class="sc">%&gt;%</span> </span>
<span id="cb45-64"><a href="#cb45-64" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="st">"markdown"</span>,<span class="at">size=</span><span class="dv">9</span>, <span class="at">caption=</span><span class="st">"Regresión logística (x= Clase latente; y= interrumpir)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Regresión logística (x= Clase latente; y= interrumpir)</caption>
<thead>
<tr class="header">
<th style="text-align: left;">mod</th>
<th style="text-align: left;">reg</th>
<th style="text-align: left;">term</th>
<th style="text-align: left;">output</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">glca</td>
<td style="text-align: left;">&gt;.7 probs</td>
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: left;">2.55 (2.42-2.7)</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">glca</td>
<td style="text-align: left;">&gt;.7 probs</td>
<td style="text-align: left;">factor(final_07)2</td>
<td style="text-align: left;">1 (0.93-1.06)</td>
<td style="text-align: right;">0.8892</td>
</tr>
<tr class="odd">
<td style="text-align: left;">glca</td>
<td style="text-align: left;">&gt;.7 probs</td>
<td style="text-align: left;">factor(final_07)3</td>
<td style="text-align: left;">0.91 (0.86-0.97)</td>
<td style="text-align: right;">0.0060</td>
</tr>
<tr class="even">
<td style="text-align: left;">glca</td>
<td style="text-align: left;">&gt;.7 probs</td>
<td style="text-align: left;">factor(final_07)4</td>
<td style="text-align: left;">0.86 (0.81-0.91)</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">glca</td>
<td style="text-align: left;">&gt;.7 probs</td>
<td style="text-align: left;">factor(final_07)5</td>
<td style="text-align: left;">0.98 (0.92-1.04)</td>
<td style="text-align: right;">0.5319</td>
</tr>
<tr class="even">
<td style="text-align: left;">glca</td>
<td style="text-align: left;">&gt;.5 probs</td>
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: left;">2.55 (2.42-2.7)</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">glca</td>
<td style="text-align: left;">&gt;.5 probs</td>
<td style="text-align: left;">factor(final_05)2</td>
<td style="text-align: left;">0.99 (0.93-1.05)</td>
<td style="text-align: right;">0.7248</td>
</tr>
<tr class="even">
<td style="text-align: left;">glca</td>
<td style="text-align: left;">&gt;.5 probs</td>
<td style="text-align: left;">factor(final_05)3</td>
<td style="text-align: left;">0.91 (0.86-0.98)</td>
<td style="text-align: right;">0.0065</td>
</tr>
<tr class="odd">
<td style="text-align: left;">glca</td>
<td style="text-align: left;">&gt;.5 probs</td>
<td style="text-align: left;">factor(final_05)4</td>
<td style="text-align: left;">0.86 (0.81-0.92)</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">glca</td>
<td style="text-align: left;">&gt;.5 probs</td>
<td style="text-align: left;">factor(final_05)5</td>
<td style="text-align: left;">0.98 (0.92-1.04)</td>
<td style="text-align: right;">0.5318</td>
</tr>
<tr class="odd">
<td style="text-align: left;">polca</td>
<td style="text-align: left;">&gt;.7 probs</td>
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: left;">2.52 (2.44-2.61)</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">polca</td>
<td style="text-align: left;">&gt;.7 probs</td>
<td style="text-align: left;">factor(final_07)2</td>
<td style="text-align: left;">1.01 (0.95-1.08)</td>
<td style="text-align: right;">0.7248</td>
</tr>
<tr class="odd">
<td style="text-align: left;">polca</td>
<td style="text-align: left;">&gt;.7 probs</td>
<td style="text-align: left;">factor(final_07)3</td>
<td style="text-align: left;">0.93 (0.88-0.97)</td>
<td style="text-align: right;">0.0010</td>
</tr>
<tr class="even">
<td style="text-align: left;">polca</td>
<td style="text-align: left;">&gt;.7 probs</td>
<td style="text-align: left;">factor(final_07)4</td>
<td style="text-align: left;">0.87 (0.84-0.91)</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">polca</td>
<td style="text-align: left;">&gt;.7 probs</td>
<td style="text-align: left;">factor(final_07)5</td>
<td style="text-align: left;">0.99 (0.95-1.04)</td>
<td style="text-align: right;">0.7105</td>
</tr>
<tr class="even">
<td style="text-align: left;">polca</td>
<td style="text-align: left;">&gt;.5 probs</td>
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: left;">2.55 (2.42-2.7)</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">polca</td>
<td style="text-align: left;">&gt;.5 probs</td>
<td style="text-align: left;">factor(final_05)2</td>
<td style="text-align: left;">0.99 (0.93-1.05)</td>
<td style="text-align: right;">0.7248</td>
</tr>
<tr class="even">
<td style="text-align: left;">polca</td>
<td style="text-align: left;">&gt;.5 probs</td>
<td style="text-align: left;">factor(final_05)3</td>
<td style="text-align: left;">0.91 (0.86-0.98)</td>
<td style="text-align: right;">0.0065</td>
</tr>
<tr class="odd">
<td style="text-align: left;">polca</td>
<td style="text-align: left;">&gt;.5 probs</td>
<td style="text-align: left;">factor(final_05)4</td>
<td style="text-align: left;">0.86 (0.81-0.92)</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">polca</td>
<td style="text-align: left;">&gt;.5 probs</td>
<td style="text-align: left;">factor(final_05)5</td>
<td style="text-align: left;">0.98 (0.92-1.04)</td>
<td style="text-align: right;">0.5318</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>bd_reg2 <span class="sc">%&gt;%</span> rio<span class="sc">::</span><span class="fu">export</span>(<span class="st">"tab_reg.xlsx"</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># knitr::kable("html",size=9, caption="Regresión logística (x= Clase latente; y= interrumpir)") %&gt;% kableExtra::kable_classic()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>reg_log<span class="ot">&lt;-</span><span class="fu">glm</span>(outcome<span class="sc">~</span> final_07, <span class="at">data=</span> bd_mydata_preds3_posterior <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">final_07=</span><span class="fu">factor</span>(final_07)))</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>ggeffects<span class="sc">::</span><span class="fu">ggpredict</span>(reg_log)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$final_07
# Predicted values of outcome

final_07 | Predicted |       95% CI
-----------------------------------
1        |      0.94 | [0.88, 0.99]
2        |      0.93 | [0.90, 0.97]
3        |      0.85 | [0.82, 0.88]
4        |      0.79 | [0.77, 0.81]
5        |      0.92 | [0.89, 0.95]

attr(,"class")
[1] "ggalleffects" "list"        
attr(,"model.name")
[1] "reg_log"</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>mydata_preds3 <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(CAUSAL, PREV_TRAMO_REC, HITO2_DECISION_MUJER_IVE) <span class="sc">%&gt;%</span> </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(CAUSAL, PREV_TRAMO_REC) <span class="sc">%&gt;%</span> </span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">ive=</span><span class="fu">sum</span>(n[HITO2_DECISION_MUJER_IVE<span class="sc">==</span><span class="st">"INTERRUMPIR EL EMBARAZO"</span>]), <span class="at">perc=</span> scales<span class="sc">::</span><span class="fu">percent</span>(ive<span class="sc">/</span><span class="fu">sum</span>(n))) <span class="sc">%&gt;%</span> </span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CAUSAL=</span> <span class="fu">case_when</span>(CAUSAL<span class="sc">==</span><span class="dv">2</span><span class="sc">~</span> <span class="st">"Causal 1"</span>, CAUSAL<span class="sc">==</span><span class="dv">3</span><span class="sc">~</span> <span class="st">"Causal 2"</span>, CAUSAL<span class="sc">==</span><span class="dv">4</span><span class="sc">~</span> <span class="st">"Causal 3"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">PREV_TRAMO_REC=</span> <span class="fu">case_when</span>(PREV_TRAMO_REC<span class="sc">==</span><span class="dv">1</span><span class="sc">~</span> <span class="st">"NA"</span>, PREV_TRAMO_REC<span class="sc">==</span><span class="dv">2</span><span class="sc">~</span> <span class="st">"ISAPRE o FFAA"</span>, PREV_TRAMO_REC<span class="sc">==</span><span class="dv">3</span><span class="sc">~</span> <span class="st">"FONASA A/B"</span>, PREV_TRAMO_REC<span class="sc">==</span><span class="dv">4</span><span class="sc">~</span> <span class="st">"FONASA C/D"</span>, PREV_TRAMO_REC<span class="sc">==</span><span class="dv">5</span><span class="sc">~</span> <span class="st">"NINGUNA"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(CAUSAL) <span class="sc">%&gt;%</span> </span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">perc_causal=</span>scales<span class="sc">::</span><span class="fu">percent</span>(ive<span class="sc">/</span><span class="fu">sum</span>(ive))) <span class="sc">%&gt;%</span> </span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(CAUSAL, PREV_TRAMO_REC, perc_causal, perc, ive) <span class="sc">%&gt;%</span> </span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="st">"markdown"</span>, <span class="at">caption=</span><span class="st">"Distribución causal, previsión e IVE"</span>, <span class="at">col.names=</span><span class="fu">c</span>(<span class="st">"Causal"</span>,<span class="st">"Previsión y Tramo"</span>, <span class="st">"% de la previsión en la causal"</span>, <span class="st">"% de IVE para cada previsión por causal"</span>, <span class="st">"n"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'CAUSAL', 'PREV_TRAMO_REC'. You can
override using the `.groups` argument.
`summarise()` has grouped output by 'CAUSAL'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Distribución causal, previsión e IVE</caption>
<colgroup>
<col style="width: 8%">
<col style="width: 17%">
<col style="width: 30%">
<col style="width: 39%">
<col style="width: 3%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Causal</th>
<th style="text-align: left;">Previsión y Tramo</th>
<th style="text-align: left;">% de la previsión en la causal</th>
<th style="text-align: left;">% de IVE para cada previsión por causal</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Causal 1</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">0.3%</td>
<td style="text-align: left;">100%</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">Causal 1</td>
<td style="text-align: left;">ISAPRE o FFAA</td>
<td style="text-align: left;">9.3%</td>
<td style="text-align: left;">91%</td>
<td style="text-align: right;">90</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Causal 1</td>
<td style="text-align: left;">FONASA A/B</td>
<td style="text-align: left;">55.3%</td>
<td style="text-align: left;">80%</td>
<td style="text-align: right;">535</td>
</tr>
<tr class="even">
<td style="text-align: left;">Causal 1</td>
<td style="text-align: left;">FONASA C/D</td>
<td style="text-align: left;">31.9%</td>
<td style="text-align: left;">84%</td>
<td style="text-align: right;">309</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Causal 1</td>
<td style="text-align: left;">NINGUNA</td>
<td style="text-align: left;">3.2%</td>
<td style="text-align: left;">97%</td>
<td style="text-align: right;">31</td>
</tr>
<tr class="even">
<td style="text-align: left;">Causal 2</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">0.1%</td>
<td style="text-align: left;">33%</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Causal 2</td>
<td style="text-align: left;">ISAPRE o FFAA</td>
<td style="text-align: left;">20.8%</td>
<td style="text-align: left;">92%</td>
<td style="text-align: right;">321</td>
</tr>
<tr class="even">
<td style="text-align: left;">Causal 2</td>
<td style="text-align: left;">FONASA A/B</td>
<td style="text-align: left;">47.4%</td>
<td style="text-align: left;">78%</td>
<td style="text-align: right;">731</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Causal 2</td>
<td style="text-align: left;">FONASA C/D</td>
<td style="text-align: left;">30.4%</td>
<td style="text-align: left;">81%</td>
<td style="text-align: right;">469</td>
</tr>
<tr class="even">
<td style="text-align: left;">Causal 2</td>
<td style="text-align: left;">NINGUNA</td>
<td style="text-align: left;">1.2%</td>
<td style="text-align: left;">90%</td>
<td style="text-align: right;">18</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Causal 3</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">0.74%</td>
<td style="text-align: left;">100%</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Causal 3</td>
<td style="text-align: left;">ISAPRE o FFAA</td>
<td style="text-align: left;">5.93%</td>
<td style="text-align: left;">98%</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Causal 3</td>
<td style="text-align: left;">FONASA A/B</td>
<td style="text-align: left;">66.47%</td>
<td style="text-align: left;">90%</td>
<td style="text-align: right;">448</td>
</tr>
<tr class="even">
<td style="text-align: left;">Causal 3</td>
<td style="text-align: left;">FONASA C/D</td>
<td style="text-align: left;">20.03%</td>
<td style="text-align: left;">96%</td>
<td style="text-align: right;">135</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Causal 3</td>
<td style="text-align: left;">NINGUNA</td>
<td style="text-align: left;">6.82%</td>
<td style="text-align: left;">98%</td>
<td style="text-align: right;">46</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co">#https://github.com/cran/effects/blob/master/R/effectspoLCA.R</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co">#https://martinpaladino.xyz/2018/11/27/an%C3%A1lisis-de-clases-latentes-ii/</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="co">#The effects-plots (or also the numeric output) give you the predicted values of the outcome for certain given values for the predictors (independent variables). It just "inserts" the value of a predictor into the model formula. Since you calculate the effect for one predictor at time, the other predictors are "hold constant", i.e. their regression coefficients are not ignored, but - by default - their mean value is chosen.</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="co">#https://stats.stackexchange.com/questions/362414/interpretation-of-regression-coefficients-in-latent-class-regression-using-polc?rq=1</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="co">#https://stats.stackexchange.com/questions/362414/interpretation-of-regression-coefficients-in-latent-class-regression-using-polc</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph of poLCA object</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>poLCA.means <span class="ot">&lt;-</span> <span class="cf">function</span>(fit,ORDERING) {</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    t <span class="ot">&lt;-</span> <span class="fu">table</span>(fit<span class="sc">$</span>predclass)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    n <span class="ot">&lt;-</span> <span class="fu">length</span>(fit<span class="sc">$</span>P) ; N <span class="ot">=</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span>n)</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    Class <span class="ot">&lt;-</span> <span class="fu">character</span>()</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    NLevels <span class="ot">&lt;-</span> <span class="fu">dim</span>(p<span class="sc">$</span>y)[<span class="dv">2</span>]</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span> <span class="sc">:</span> n) {</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>        Class[i] <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">'Class '</span>,i,<span class="st">' (n='</span>,t[i],<span class="st">')'</span>,<span class="at">sep=</span><span class="st">''</span>)</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>    CL <span class="ot">&lt;-</span> <span class="fu">tibble</span>(N,Class)</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>    fit.t <span class="ot">&lt;-</span> <span class="fu">tidy</span>(fit) <span class="sc">%&gt;%</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>           <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable,<span class="at">levels=</span>ORDERING[<span class="dv">1</span><span class="sc">:</span>NLevels])) <span class="sc">%&gt;%</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">inner_join</span>(CL,<span class="at">by=</span><span class="fu">c</span>(<span class="st">'class'</span> <span class="ot">=</span> <span class="st">'N'</span>))</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span>   <span class="fu">ggplot</span>(fit.t,<span class="fu">aes</span>(<span class="at">x =</span> variable, <span class="at">y =</span> estimate, <span class="at">fill =</span> outcome)) <span class="sc">+</span></span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>       <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>,<span class="at">colour=</span><span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>       <span class="fu">facet_wrap</span>(<span class="sc">~</span> Class)</span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(g)</span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>poLCA.means <span class="ot">&lt;-</span> <span class="cf">function</span>(fit,ORDERING) {</span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a>    t <span class="ot">&lt;-</span> <span class="fu">table</span>(fit<span class="sc">$</span>predclass)</span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a>    n <span class="ot">&lt;-</span> <span class="fu">length</span>(fit<span class="sc">$</span>P) ; N <span class="ot">=</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span>n)</span>
<span id="cb52-26"><a href="#cb52-26" aria-hidden="true" tabindex="-1"></a>    Class <span class="ot">&lt;-</span> <span class="fu">character</span>()</span>
<span id="cb52-27"><a href="#cb52-27" aria-hidden="true" tabindex="-1"></a>    NLevels <span class="ot">&lt;-</span> <span class="fu">dim</span>(p<span class="sc">$</span>y)[<span class="dv">2</span>]</span>
<span id="cb52-28"><a href="#cb52-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-29"><a href="#cb52-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span> <span class="sc">:</span> n) {</span>
<span id="cb52-30"><a href="#cb52-30" aria-hidden="true" tabindex="-1"></a>        Class[i] <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">'Class '</span>,i,<span class="st">' (n='</span>,t[i],<span class="st">')'</span>,<span class="at">sep=</span><span class="st">''</span>)</span>
<span id="cb52-31"><a href="#cb52-31" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb52-32"><a href="#cb52-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-33"><a href="#cb52-33" aria-hidden="true" tabindex="-1"></a>    CL <span class="ot">&lt;-</span> <span class="fu">tibble</span>(N,Class)</span>
<span id="cb52-34"><a href="#cb52-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-35"><a href="#cb52-35" aria-hidden="true" tabindex="-1"></a>    fit.t <span class="ot">&lt;-</span> <span class="fu">tidy</span>(fit) <span class="sc">%&gt;%</span></span>
<span id="cb52-36"><a href="#cb52-36" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">variable =</span> </span>
<span id="cb52-37"><a href="#cb52-37" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">factor</span>(variable,</span>
<span id="cb52-38"><a href="#cb52-38" aria-hidden="true" tabindex="-1"></a>                          <span class="at">levels=</span>ORDERING[<span class="dv">1</span><span class="sc">:</span>NLevels])) <span class="sc">%&gt;%</span></span>
<span id="cb52-39"><a href="#cb52-39" aria-hidden="true" tabindex="-1"></a>        <span class="fu">inner_join</span>(CL,<span class="at">by=</span><span class="fu">c</span>(<span class="st">'class'</span> <span class="ot">=</span> <span class="st">'N'</span>))</span>
<span id="cb52-40"><a href="#cb52-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-41"><a href="#cb52-41" aria-hidden="true" tabindex="-1"></a>    g <span class="ot">&lt;-</span>   <span class="fu">ggplot</span>(fit.t <span class="sc">%&gt;%</span> <span class="fu">filter</span>(outcome <span class="sc">==</span> <span class="dv">2</span>),</span>
<span id="cb52-42"><a href="#cb52-42" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">aes</span>(<span class="at">x =</span> variable, <span class="at">y =</span> estimate,</span>
<span id="cb52-43"><a href="#cb52-43" aria-hidden="true" tabindex="-1"></a>                      <span class="at">group =</span> outcome,<span class="at">colour=</span>Class)) <span class="sc">+</span></span>
<span id="cb52-44"><a href="#cb52-44" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb52-45"><a href="#cb52-45" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_line</span>(<span class="at">size=</span><span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb52-46"><a href="#cb52-46" aria-hidden="true" tabindex="-1"></a>        <span class="co">#geom_bar(stat = "identity", position = "stack",colour='darkgrey') +</span></span>
<span id="cb52-47"><a href="#cb52-47" aria-hidden="true" tabindex="-1"></a>        <span class="fu">facet_wrap</span>(<span class="sc">~</span> Class)</span>
<span id="cb52-48"><a href="#cb52-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(g)</span>
<span id="cb52-49"><a href="#cb52-49" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-50"><a href="#cb52-50" aria-hidden="true" tabindex="-1"></a>poLCA.table <span class="ot">&lt;-</span> <span class="cf">function</span>(fit,ORDERING) {</span>
<span id="cb52-51"><a href="#cb52-51" aria-hidden="true" tabindex="-1"></a>    t <span class="ot">&lt;-</span> <span class="fu">table</span>(fit<span class="sc">$</span>predclass)</span>
<span id="cb52-52"><a href="#cb52-52" aria-hidden="true" tabindex="-1"></a>    n <span class="ot">&lt;-</span> <span class="fu">length</span>(fit<span class="sc">$</span>P) ; N <span class="ot">=</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span>n)</span>
<span id="cb52-53"><a href="#cb52-53" aria-hidden="true" tabindex="-1"></a>    Class <span class="ot">&lt;-</span> <span class="fu">character</span>()</span>
<span id="cb52-54"><a href="#cb52-54" aria-hidden="true" tabindex="-1"></a>    NLevels <span class="ot">&lt;-</span> <span class="fu">dim</span>(p<span class="sc">$</span>y)[<span class="dv">2</span>]</span>
<span id="cb52-55"><a href="#cb52-55" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-56"><a href="#cb52-56" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span> <span class="sc">:</span> n) {</span>
<span id="cb52-57"><a href="#cb52-57" aria-hidden="true" tabindex="-1"></a>        Class[i] <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">'Class '</span>,i,<span class="st">' (n='</span>,t[i],<span class="st">')'</span>,<span class="at">sep=</span><span class="st">''</span>)</span>
<span id="cb52-58"><a href="#cb52-58" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb52-59"><a href="#cb52-59" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-60"><a href="#cb52-60" aria-hidden="true" tabindex="-1"></a>    CL <span class="ot">&lt;-</span> <span class="fu">tibble</span>(N,Class)</span>
<span id="cb52-61"><a href="#cb52-61" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-62"><a href="#cb52-62" aria-hidden="true" tabindex="-1"></a>    fit.t <span class="ot">&lt;-</span> <span class="fu">tidy</span>(fit) <span class="sc">%&gt;%</span></span>
<span id="cb52-63"><a href="#cb52-63" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">factor</span>(variable,<span class="at">levels=</span>ORDERING[<span class="dv">1</span><span class="sc">:</span>NLevels])) <span class="sc">%&gt;%</span></span>
<span id="cb52-64"><a href="#cb52-64" aria-hidden="true" tabindex="-1"></a>        <span class="fu">inner_join</span>(CL,<span class="at">by=</span><span class="fu">c</span>(<span class="st">'class'</span> <span class="ot">=</span> <span class="st">'N'</span>))</span>
<span id="cb52-65"><a href="#cb52-65" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-66"><a href="#cb52-66" aria-hidden="true" tabindex="-1"></a>    g <span class="ot">&lt;-</span>   <span class="fu">ggplot</span>(fit.t,<span class="fu">aes</span>(<span class="at">x =</span> variable, <span class="at">y =</span> estimate, <span class="at">fill =</span> outcome)) <span class="sc">+</span></span>
<span id="cb52-67"><a href="#cb52-67" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>,<span class="at">colour=</span><span class="st">'darkgrey'</span>) <span class="sc">+</span></span>
<span id="cb52-68"><a href="#cb52-68" aria-hidden="true" tabindex="-1"></a>        <span class="fu">facet_wrap</span>(<span class="sc">~</span> Class)</span>
<span id="cb52-69"><a href="#cb52-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(fit.t)</span>
<span id="cb52-70"><a href="#cb52-70" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-71"><a href="#cb52-71" aria-hidden="true" tabindex="-1"></a>ReturnCoeffLCA <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb52-72"><a href="#cb52-72" aria-hidden="true" tabindex="-1"></a>R <span class="ot">&lt;-</span> <span class="fu">length</span>(x<span class="sc">$</span>P)</span>
<span id="cb52-73"><a href="#cb52-73" aria-hidden="true" tabindex="-1"></a>length <span class="ot">&lt;-</span> <span class="fu">length</span>(x<span class="sc">$</span>coeff)</span>
<span id="cb52-74"><a href="#cb52-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-75"><a href="#cb52-75" aria-hidden="true" tabindex="-1"></a>dimensions <span class="ot">&lt;-</span> <span class="fu">dim</span>(x<span class="sc">$</span>coeff)</span>
<span id="cb52-76"><a href="#cb52-76" aria-hidden="true" tabindex="-1"></a>    height <span class="ot">&lt;-</span> dimensions[<span class="dv">1</span>]</span>
<span id="cb52-77"><a href="#cb52-77" aria-hidden="true" tabindex="-1"></a>    width <span class="ot">&lt;-</span> dimensions[<span class="dv">2</span>]</span>
<span id="cb52-78"><a href="#cb52-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-79"><a href="#cb52-79" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">dimnames</span>(x<span class="sc">$</span>coeff)[[<span class="dv">1</span>]]</span>
<span id="cb52-80"><a href="#cb52-80" aria-hidden="true" tabindex="-1"></a>    names <span class="ot">&lt;-</span> <span class="fu">rep</span>(names,width)</span>
<span id="cb52-81"><a href="#cb52-81" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-82"><a href="#cb52-82" aria-hidden="true" tabindex="-1"></a>form <span class="ot">&lt;-</span> <span class="fu">as.character</span>(x<span class="sc">$</span>call<span class="sc">$</span>formula)</span>
<span id="cb52-83"><a href="#cb52-83" aria-hidden="true" tabindex="-1"></a>    form <span class="ot">&lt;-</span> <span class="fu">rep</span>(form, length)</span>
<span id="cb52-84"><a href="#cb52-84" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-85"><a href="#cb52-85" aria-hidden="true" tabindex="-1"></a>Coeff <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(x<span class="sc">$</span>coeff) <span class="co"># L elements</span></span>
<span id="cb52-86"><a href="#cb52-86" aria-hidden="true" tabindex="-1"></a>Coeff.se <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(x<span class="sc">$</span>coeff.se) <span class="co"># L elements</span></span>
<span id="cb52-87"><a href="#cb52-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-88"><a href="#cb52-88" aria-hidden="true" tabindex="-1"></a>tval <span class="ot">&lt;-</span> Coeff<span class="sc">/</span>Coeff.se</span>
<span id="cb52-89"><a href="#cb52-89" aria-hidden="true" tabindex="-1"></a>pval <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> <span class="dv">3</span><span class="sc">*</span><span class="fu">abs</span>(<span class="fu">pt</span>(tval,x<span class="sc">$</span>resid.df)<span class="sc">-</span><span class="fl">0.5</span>)</span>
<span id="cb52-90"><a href="#cb52-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-91"><a href="#cb52-91" aria-hidden="true" tabindex="-1"></a>comp <span class="ot">=</span> <span class="fu">vector</span>()</span>
<span id="cb52-92"><a href="#cb52-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-93"><a href="#cb52-93" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (w <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>width) {</span>
<span id="cb52-94"><a href="#cb52-94" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (h <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>height) {</span>
<span id="cb52-95"><a href="#cb52-95" aria-hidden="true" tabindex="-1"></a>    comp <span class="ot">&lt;-</span> <span class="fu">c</span>(comp, <span class="fu">paste0</span>(w<span class="sc">+</span><span class="dv">1</span>,<span class="st">'/1'</span>))</span>
<span id="cb52-96"><a href="#cb52-96" aria-hidden="true" tabindex="-1"></a>    <span class="co">#cat(comp)</span></span>
<span id="cb52-97"><a href="#cb52-97" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb52-98"><a href="#cb52-98" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb52-99"><a href="#cb52-99" aria-hidden="true" tabindex="-1"></a><span class="co">#comp</span></span>
<span id="cb52-100"><a href="#cb52-100" aria-hidden="true" tabindex="-1"></a>disp <span class="ot">&lt;-</span> <span class="fu">tibble</span>(form,names,comp,Coeff,Coeff.se,tval,pval)</span>
<span id="cb52-101"><a href="#cb52-101" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(disp) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Formula'</span>, <span class="st">'Variables'</span>, <span class="st">'Groups'</span>, <span class="st">'Coeff'</span>, <span class="st">'SE'</span>, <span class="st">'t'</span>, <span class="st">'p-value'</span>)</span>
<span id="cb52-102"><a href="#cb52-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-103"><a href="#cb52-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-104"><a href="#cb52-104" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(disp)</span>
<span id="cb52-105"><a href="#cb52-105" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-106"><a href="#cb52-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-107"><a href="#cb52-107" aria-hidden="true" tabindex="-1"></a><span class="co">#g &lt;- poLCA.means(d,ORDERING) </span></span>
<span id="cb52-108"><a href="#cb52-108" aria-hidden="true" tabindex="-1"></a><span class="co">#g &lt;- g + theme_bw(base_size=12) +</span></span>
<span id="cb52-109"><a href="#cb52-109" aria-hidden="true" tabindex="-1"></a><span class="co">#       theme(axis.text.x = element_text(angle = -90, hjust=0,vjust = 0.5, size=9)) +</span></span>
<span id="cb52-110"><a href="#cb52-110" aria-hidden="true" tabindex="-1"></a><span class="co">#       ggtitle('Class membership probabilities - Base model') + xlab('Symptom, sign, or finding') +</span></span>
<span id="cb52-111"><a href="#cb52-111" aria-hidden="true" tabindex="-1"></a><span class="co">#       #guides(fill=FALSE) +</span></span>
<span id="cb52-112"><a href="#cb52-112" aria-hidden="true" tabindex="-1"></a><span class="co">#       scale_fill_gradientn(colours=terrain.colors(2))</span></span>
<span id="cb52-113"><a href="#cb52-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-114"><a href="#cb52-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-115"><a href="#cb52-115" aria-hidden="true" tabindex="-1"></a><span class="co">#Convert logOdds to probability</span></span>
<span id="cb52-116"><a href="#cb52-116" aria-hidden="true" tabindex="-1"></a>Prob <span class="ot">&lt;-</span> <span class="cf">function</span>(logOdds) {</span>
<span id="cb52-117"><a href="#cb52-117" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>((<span class="fu">exp</span>(logOdds))<span class="sc">/</span>(<span class="dv">1</span><span class="sc">+</span> <span class="fu">exp</span>(logOdds)))</span>
<span id="cb52-118"><a href="#cb52-118" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-119"><a href="#cb52-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-120"><a href="#cb52-120" aria-hidden="true" tabindex="-1"></a>poLCA.coeff.names <span class="ot">&lt;-</span> <span class="cf">function</span>(fit) {</span>
<span id="cb52-121"><a href="#cb52-121" aria-hidden="true" tabindex="-1"></a>    <span class="co"># takes a poLCA fit with coefficients</span></span>
<span id="cb52-122"><a href="#cb52-122" aria-hidden="true" tabindex="-1"></a>    names <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">attributes</span>(fit<span class="sc">$</span>coeff)<span class="sc">$</span>dimnames[<span class="dv">1</span>])</span>
<span id="cb52-123"><a href="#cb52-123" aria-hidden="true" tabindex="-1"></a>    names <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">'[:]'</span>,<span class="st">'*'</span>,names)</span>
<span id="cb52-124"><a href="#cb52-124" aria-hidden="true" tabindex="-1"></a>    <span class="co"># returns a character vector of the names of those coefficients</span></span>
<span id="cb52-125"><a href="#cb52-125" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(names)</span>
<span id="cb52-126"><a href="#cb52-126" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-127"><a href="#cb52-127" aria-hidden="true" tabindex="-1"></a><span class="co">#poLCA.coeff.names(poLCA.PCV2.PPV2)</span></span>
<span id="cb52-128"><a href="#cb52-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-129"><a href="#cb52-129" aria-hidden="true" tabindex="-1"></a><span class="co"># Crude CI's for poLCA</span></span>
<span id="cb52-130"><a href="#cb52-130" aria-hidden="true" tabindex="-1"></a>poLCA.CI <span class="ot">&lt;-</span> <span class="cf">function</span>(fit,<span class="at">Z=</span><span class="fl">1.96</span>) {</span>
<span id="cb52-131"><a href="#cb52-131" aria-hidden="true" tabindex="-1"></a>    coef <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(fit<span class="sc">$</span>coeff)  <span class="sc">%&gt;%</span></span>
<span id="cb52-132"><a href="#cb52-132" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">'Term'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb52-133"><a href="#cb52-133" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">Term =</span> <span class="fu">gsub</span>(<span class="st">'[()]'</span>,<span class="st">''</span>,Term)) <span class="sc">%&gt;%</span></span>
<span id="cb52-134"><a href="#cb52-134" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">Term =</span> <span class="fu">gsub</span>(<span class="st">'[:]'</span>,<span class="st">'.'</span>,Term)) </span>
<span id="cb52-135"><a href="#cb52-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-136"><a href="#cb52-136" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The rest of the columns are called X1, X2 and so on.</span></span>
<span id="cb52-137"><a href="#cb52-137" aria-hidden="true" tabindex="-1"></a>    <span class="co"># We want to change these to Class_2:1 Class_3:1 etc.</span></span>
<span id="cb52-138"><a href="#cb52-138" aria-hidden="true" tabindex="-1"></a>    NN <span class="ot">&lt;-</span> <span class="fu">names</span>(coef)[<span class="sc">-</span><span class="dv">1</span>] <span class="co"># X1, X2, X3, ...</span></span>
<span id="cb52-139"><a href="#cb52-139" aria-hidden="true" tabindex="-1"></a>    NN <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">'X'</span>,<span class="st">''</span>,NN) <span class="co"># '1', '2', '3'', ...</span></span>
<span id="cb52-140"><a href="#cb52-140" aria-hidden="true" tabindex="-1"></a>    NN <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(NN) <span class="sc">+</span> <span class="dv">1</span> <span class="co"># 2, 3, 4, ...</span></span>
<span id="cb52-141"><a href="#cb52-141" aria-hidden="true" tabindex="-1"></a>    NN <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">'Class_'</span>,NN,<span class="st">':1'</span>,<span class="at">sep=</span><span class="st">''</span>) <span class="co"># Class_2:1, Class_3:1</span></span>
<span id="cb52-142"><a href="#cb52-142" aria-hidden="true" tabindex="-1"></a>    <span class="fu">names</span>(coef) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Term'</span>,NN)</span>
<span id="cb52-143"><a href="#cb52-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-144"><a href="#cb52-144" aria-hidden="true" tabindex="-1"></a>    coef <span class="ot">&lt;-</span> coef <span class="sc">%&gt;%</span></span>
<span id="cb52-145"><a href="#cb52-145" aria-hidden="true" tabindex="-1"></a>        <span class="fu">gather</span>(Class,Value,<span class="sc">-</span>Term)</span>
<span id="cb52-146"><a href="#cb52-146" aria-hidden="true" tabindex="-1"></a>    coef</span>
<span id="cb52-147"><a href="#cb52-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-148"><a href="#cb52-148" aria-hidden="true" tabindex="-1"></a>    se   <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(fit<span class="sc">$</span>coeff.se)  <span class="sc">%&gt;%</span></span>
<span id="cb52-149"><a href="#cb52-149" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">'Term'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb52-150"><a href="#cb52-150" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">Term =</span> <span class="fu">gsub</span>(<span class="st">'[()]'</span>,<span class="st">''</span>,Term)) <span class="sc">%&gt;%</span></span>
<span id="cb52-151"><a href="#cb52-151" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">Term =</span> <span class="fu">gsub</span>(<span class="st">'[:]'</span>,<span class="st">'.'</span>,Term)) </span>
<span id="cb52-152"><a href="#cb52-152" aria-hidden="true" tabindex="-1"></a>    <span class="fu">names</span>(se) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Term'</span>,NN)</span>
<span id="cb52-153"><a href="#cb52-153" aria-hidden="true" tabindex="-1"></a>    se <span class="ot">&lt;-</span> se <span class="sc">%&gt;%</span></span>
<span id="cb52-154"><a href="#cb52-154" aria-hidden="true" tabindex="-1"></a>        <span class="fu">gather</span>(Class,Value,<span class="sc">-</span>Term)</span>
<span id="cb52-155"><a href="#cb52-155" aria-hidden="true" tabindex="-1"></a>    se</span>
<span id="cb52-156"><a href="#cb52-156" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-157"><a href="#cb52-157" aria-hidden="true" tabindex="-1"></a>    coef <span class="ot">&lt;-</span> coef <span class="sc">%&gt;%</span></span>
<span id="cb52-158"><a href="#cb52-158" aria-hidden="true" tabindex="-1"></a>        <span class="fu">inner_join</span>(se, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'Term'</span>,<span class="st">'Class'</span>),</span>
<span id="cb52-159"><a href="#cb52-159" aria-hidden="true" tabindex="-1"></a>                   <span class="at">suffix=</span><span class="fu">c</span>(<span class="st">'.coef'</span>,<span class="st">'.se'</span>))</span>
<span id="cb52-160"><a href="#cb52-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-161"><a href="#cb52-161" aria-hidden="true" tabindex="-1"></a>    coef <span class="ot">&lt;-</span> coef <span class="sc">%&gt;%</span></span>
<span id="cb52-162"><a href="#cb52-162" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">LowerCI =</span> Value.coef<span class="sc">-</span>Z<span class="sc">*</span>Value.se) <span class="sc">%&gt;%</span></span>
<span id="cb52-163"><a href="#cb52-163" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">UpperCI =</span> Value.coef<span class="sc">+</span>Z<span class="sc">*</span>Value.se) <span class="sc">%&gt;%</span></span>
<span id="cb52-164"><a href="#cb52-164" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">OR =</span> <span class="fu">exp</span>(Value.coef)) <span class="sc">%&gt;%</span></span>
<span id="cb52-165"><a href="#cb52-165" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">OR.Lr =</span> <span class="fu">exp</span>(LowerCI)) <span class="sc">%&gt;%</span></span>
<span id="cb52-166"><a href="#cb52-166" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">OR.Upr =</span> <span class="fu">exp</span>(UpperCI)) <span class="sc">%&gt;%</span></span>
<span id="cb52-167"><a href="#cb52-167" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(<span class="sc">-</span>LowerCI,<span class="sc">-</span>UpperCI)</span>
<span id="cb52-168"><a href="#cb52-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-169"><a href="#cb52-169" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(coef)</span>
<span id="cb52-170"><a href="#cb52-170" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-171"><a href="#cb52-171" aria-hidden="true" tabindex="-1"></a><span class="co">#d &lt;- poLCA.CI(poLCA.PCV2.PPV2)</span></span>
<span id="cb52-172"><a href="#cb52-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-173"><a href="#cb52-173" aria-hidden="true" tabindex="-1"></a><span class="co">#kable(d)</span></span>
<span id="cb52-174"><a href="#cb52-174" aria-hidden="true" tabindex="-1"></a><span class="co">#poLCA.CI(LCA_best_model_adj_mod)</span></span>
<span id="cb52-175"><a href="#cb52-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-176"><a href="#cb52-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-177"><a href="#cb52-177" aria-hidden="true" tabindex="-1"></a><span class="co"># este es con resultado distal (sensibilidad)</span></span>
<span id="cb52-178"><a href="#cb52-178" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb52-179"><a href="#cb52-179" aria-hidden="true" tabindex="-1"></a><span class="co"># Probabilidad de pertenecer a una clase, según interrupción del embarazo</span></span>
<span id="cb52-180"><a href="#cb52-180" aria-hidden="true" tabindex="-1"></a><span class="co"># Clase No interrumpe           Interrumpe</span></span>
<span id="cb52-181"><a href="#cb52-181" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 0.19(95%CI=0.16,0.23)   0.18(95%CI=0.17,0.19)</span></span>
<span id="cb52-182"><a href="#cb52-182" aria-hidden="true" tabindex="-1"></a><span class="co"># *2    0.18(95%CI=0.15,0.21)   0.15(95%CI=0.14,0.17)* ---&gt; estas son las cuicas, también </span></span>
<span id="cb52-183"><a href="#cb52-183" aria-hidden="true" tabindex="-1"></a><span class="co"># *3    0.3(95%CI=0.26,0.33)    0.39(95%CI=0.37,0.4)*</span></span>
<span id="cb52-184"><a href="#cb52-184" aria-hidden="true" tabindex="-1"></a><span class="co"># 4 0.16(95%CI=0.13,0.19)   0.13(95%CI=0.12,0.14)</span></span>
<span id="cb52-185"><a href="#cb52-185" aria-hidden="true" tabindex="-1"></a><span class="co"># 5 0.17(95%CI=0.15,0.21)   0.15(95%CI=0.14,0.17)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extracting class-conditional probabilities</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>lc<span class="ot">&lt;-</span>LCA_best_model_mod</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>R <span class="ot">&lt;-</span> <span class="fu">length</span>(lc<span class="sc">$</span>P)</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>probs <span class="ot">&lt;-</span> lc<span class="sc">$</span>probs</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>P <span class="ot">&lt;-</span> lc<span class="sc">$</span>P</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> lc<span class="sc">$</span>y</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>ti <span class="ot">&lt;-</span> lc<span class="sc">$</span>ti</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>R <span class="ot">&lt;-</span> <span class="fu">nrow</span>(probs[[<span class="dv">1</span>]])</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>pi.class <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>,<span class="at">nrow=</span><span class="fu">length</span>(probs),<span class="at">ncol=</span>R)</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(probs)) </span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>        pi.class[j,] <span class="ot">&lt;-</span> probs[[j]][,<span class="dv">2</span>]</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(pi.class) <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">names</span>(y),<span class="fu">round</span>(P,<span class="dv">3</span>))</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a><span class="co">#rownames(pi.class) &lt;- row.names</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>probs.se <span class="ot">&lt;-</span> lc<span class="sc">$</span>probs.se</span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>se.class <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>,<span class="at">nrow=</span><span class="fu">length</span>(probs.se),<span class="at">ncol=</span>R)</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(probs.se)) </span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>        se.class[j,] <span class="ot">&lt;-</span> probs.se[[j]][,<span class="dv">2</span>]</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(se.class) <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">names</span>(y),<span class="fu">round</span>(P,<span class="dv">3</span>))</span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a><span class="co">#rownames(se.class) &lt;- row.names</span></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>ds.plot <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Classes=</span><span class="fu">as.vector</span>(<span class="fu">col</span>(pi.class)),<span class="at">Manifest.variables=</span><span class="fu">as.vector</span>(<span class="fu">row</span>(pi.class)),<span class="at">value=</span><span class="fu">as.vector</span>(pi.class))</span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>ds.plot.stata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Classes=</span><span class="fu">as.vector</span>(<span class="fu">col</span>(pi.class)),<span class="at">Manifest.variables=</span><span class="fu">as.vector</span>(<span class="fu">row</span>(pi.class)), <span class="at">value=</span><span class="fu">as.vector</span>(pi.class),<span class="at">names=</span><span class="fu">rownames</span>(pi.class), <span class="at">se=</span><span class="fu">as.vector</span>(se.class))</span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>ds.plot.stata <span class="sc">%&gt;%</span> tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">names_from=</span>Classes, <span class="at">values_from=</span><span class="fu">c</span>(<span class="st">"value"</span>,<span class="st">"se"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate_if</span>(is.numeric, <span class="sc">~</span><span class="fu">round</span>(.,<span class="dv">3</span>))</span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>ds.plot.stata <span class="sc">%&gt;%</span> tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">names_from=</span>Classes, <span class="at">values_from=</span><span class="fu">c</span>(<span class="st">"value"</span>,<span class="st">"se"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate_if</span>(is.numeric, <span class="sc">~</span><span class="fu">round</span>(.,<span class="dv">3</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">c1=</span> <span class="fu">paste0</span>(value_1<span class="sc">*</span><span class="dv">100</span>,<span class="st">" ("</span>,se_1<span class="sc">*</span><span class="dv">100</span>,<span class="st">")"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">c2=</span> <span class="fu">paste0</span>(value_2<span class="sc">*</span><span class="dv">100</span>,<span class="st">" ("</span>,se_2<span class="sc">*</span><span class="dv">100</span>,<span class="st">")"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">c3=</span> <span class="fu">paste0</span>(value_3<span class="sc">*</span><span class="dv">100</span>,<span class="st">" ("</span>,se_3<span class="sc">*</span><span class="dv">100</span>,<span class="st">")"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">c4=</span> <span class="fu">paste0</span>(value_4<span class="sc">*</span><span class="dv">100</span>,<span class="st">" ("</span>,se_4<span class="sc">*</span><span class="dv">100</span>,<span class="st">")"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">c5=</span> <span class="fu">paste0</span>(value_5<span class="sc">*</span><span class="dv">100</span>,<span class="st">" ("</span>,se_5<span class="sc">*</span><span class="dv">100</span>,<span class="st">")"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Manifest.variables, names, <span class="fu">paste0</span>(<span class="st">"c"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>))</span>
<span id="cb53-37"><a href="#cb53-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-38"><a href="#cb53-38" aria-hidden="true" tabindex="-1"></a><span class="co">#https://datascience.stackexchange.com/questions/40632/how-do-i-use-the-model-generated-by-the-r-package-polca-to-classify-new-data-as</span></span>
<span id="cb53-39"><a href="#cb53-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-40"><a href="#cb53-40" aria-hidden="true" tabindex="-1"></a><span class="co">#no sale, tira errores por el poLCAparallel</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="información-de-la-sesión" class="level1">
<h1>Información de la sesión</h1>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(tidyverse)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>sesion_info <span class="ot">&lt;-</span> devtools<span class="sc">::</span><span class="fu">session_info</span>()</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">as_tibble</span>(sesion_info<span class="sc">$</span>packages),</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(package, loadedversion, source)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">filter =</span> <span class="st">'top'</span>, <span class="at">colnames =</span> <span class="fu">c</span>(<span class="st">'Row number'</span> <span class="ot">=</span><span class="dv">1</span>,<span class="st">'Variable'</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">'Percentage'</span><span class="ot">=</span> <span class="dv">3</span>),</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">caption =</span> htmltools<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">caption</span>(</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">style =</span> <span class="st">'caption-side: top; text-align: left;'</span>,</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">''</span>, htmltools<span class="sc">::</span><span class="fu">em</span>(<span class="st">'Packages'</span>)),</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">options=</span><span class="fu">list</span>(</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a><span class="at">initComplete =</span> htmlwidgets<span class="sc">::</span><span class="fu">JS</span>(</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"function(settings, json) {"</span>,</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"$(this.api().tables().body()).css({</span></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a><span class="st">            'font-family': 'Helvetica Neue',</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a><span class="st">            'font-size': '50%', </span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a><span class="st">            'code-inline-font-size': '15%', </span></span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a><span class="st">            'white-space': 'nowrap',</span></span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a><span class="st">            'line-height': '0.75em',</span></span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a><span class="st">            'min-height': '0.5em'</span></span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a><span class="st">            });"</span>,<span class="co">#;</span></span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">"}"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="htmlwidget-1834c6722112ec281337" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1834c6722112ec281337">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption style=\"caption-side: top; text-align: left;\">\n  \n  <em>Packages<\/em>\n<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188"],["abind","admisc","assertthat","backports","base64enc","bayestestR","boot","brio","broom","cachem","callr","car","carData","caret","cellranger","checkmate","chron","class","cli","cluster","coda","codetools","colorspace","compareGroups","crayon","crosstalk","curl","data.table","datawizard","DBI","dbplyr","desc","devtools","digest","doParallel","dplyr","effectsize","ellipsis","emmeans","estimability","evaluate","fansi","farver","fastmap","flextable","forcats","foreach","foreign","Formula","fs","future","future.apply","gdtools","generics","ggcorrplot","ggeffects","ggplot2","ggrepel","globals","glue","gower","gridExtra","gtable","hardhat","HardyWeinberg","haven","here","highr","Hmisc","hms","htmlTable","htmltools","htmlwidgets","httr","insight","inum","ipred","iterators","janitor","jpeg","jsonlite","kableExtra","knitr","labeling","labelled","lattice","latticeExtra","lava","lazyeval","libcoin","lifecycle","listenv","lme4","lubridate","magrittr","MASS","Matrix","memoise","mice","minqa","mitools","ModelMetrics","modelr","munsell","mvtnorm","nlme","nloptr","nnet","officer","openxlsx","parallelly","parameters","partykit","performance","pillar","pkgbuild","pkgconfig","pkgload","plotly","plyr","png","poLCA","poLCAParallel","polycor","prettyunits","pROC","processx","prodlim","progress","ps","purrr","R6","randomForest","RColorBrewer","Rcpp","readr","readxl","recipes","remotes","renv","reprex","reshape2","rio","rlang","rmarkdown","rpart","rpart.plot","rprojroot","Rsolnp","rstudioapi","rvest","scales","scatterplot3d","sessioninfo","sjlabelled","sjmisc","sjPlot","sjstats","snakecase","stringi","stringr","survey","survival","svglite","systemfonts","tableone","testthat","tibble","tidyr","tidyselect","tidyverse","timeDate","truncnorm","tzdb","usethis","utf8","uuid","vctrs","viridisLite","webshot","withr","writexl","xfun","xml2","xtable","yaml","zip","zoo"],["1.4-5","0.27","0.2.1","1.4.1","0.1-3","0.12.1","1.3-28","1.1.3","0.8.0","1.0.6","3.7.0","3.0-13","3.0-5","6.0-92","1.1.0","2.1.0","2.3-57","7.3-19","3.3.0","2.1.2","0.19-4","0.2-18","2.0-3","4.5.1","1.5.1","1.2.0","4.3.2","1.14.2","0.4.1","1.1.2","2.1.1","1.4.1","2.4.3","0.6.29","1.0.17","1.0.9","0.7.0","0.3.2","1.7.4-1","1.3","0.15","1.0.3","2.1.0","1.1.0","0.7.1","0.5.1","1.5.2","0.8-81","1.2-4","1.5.2","1.26.1","1.9.0","0.2.4","0.1.2","0.1.3","1.1.2","3.3.6","0.9.3","0.15.0","1.6.2","1.0.0","2.3","0.3.0","1.0.0","1.7.5","2.5.0","1.0.1","0.9","4.7-0","1.1.1","2.4.0","0.5.2","1.5.4","1.4.3","0.17.1","1.0-4","0.9-13","1.0.14","2.1.0","0.1-9","1.8.0","1.3.4","1.39","0.4.2","2.9.1","0.20-44","0.6-29","1.6.10","0.2.2","1.0-9","1.0.1","0.8.0","1.1-29","1.8.0","2.0.3","7.3-54","1.3-4","2.0.1","3.14.0","1.2.4","2.4","1.2.2.2","0.1.8","0.5.0","1.1-3","3.1-152","2.0.3","7.3-16","0.4.2","4.2.5","1.31.1","0.18.1","1.2-15","0.9.0","1.7.0","1.3.1","2.0.3","1.2.4","4.10.0","1.8.7","0.1-7","1.6.0.1","1.1.0","0.8-1","1.1.1","1.18.0","3.5.3","2019.11.13","1.2.2","1.7.0","0.3.4","2.5.1","4.7-1.1","1.1-3","1.0.8.3","2.1.2","1.4.0","0.2.0","2.4.2","0.17.3","2.0.1","1.4.4","0.5.29","1.0.2","2.14","4.1-15","3.1.1","2.0.3","1.16","0.13","1.0.2","1.2.0","0.3-41","1.2.2","1.2.0","2.8.9","2.8.10","0.18.1","0.11.0","1.7.6","1.4.0","4.1-1","3.2-11","2.1.0","1.0.4","0.13.2","3.1.4","3.1.7","1.2.0","1.1.2","1.3.1","3043.102","1.0-8","0.3.0","2.1.6","1.2.2","1.1-0","0.4.1","0.4.0","0.5.3","2.5.0","1.4.0","0.31","1.3.3","1.8-4","2.3.5","2.2.0","1.8-10"],["CRAN (R 4.1.1)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.1)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.1)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.1)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","Github (slowkow/ggrepel@458494912389100bea092e8d49d5794d5b3efd3e)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.1)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.1)","CRAN (R 4.1.3)","CRAN (R 4.1.1)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.2)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.1)","CRAN (R 4.1.1)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.1)","CRAN (R 4.1.3)","Github (QMUL/poLCAParallel@80bc8a20d23e9fc436eceb4c4a07e3d4a4f65e77)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.1)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.1)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.3)","CRAN (R 4.1.2)","CRAN (R 4.1.3)","CRAN (R 4.1.3)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Row number<\/th>\n      <th>Variable<\/th>\n      <th>Percentage<\/th>\n      <th>source<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"initComplete":"function(settings, json) {\n$(this.api().tables().body()).css({\n            'font-family': 'Helvetica Neue',\n            'font-size': '50%', \n            'code-inline-font-size': '15%', \n            'white-space': 'nowrap',\n            'line-height': '0.75em',\n            'min-height': '0.5em'\n            });\n}","columnDefs":[],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":["options.initComplete"],"jsHooks":[]}</script>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>